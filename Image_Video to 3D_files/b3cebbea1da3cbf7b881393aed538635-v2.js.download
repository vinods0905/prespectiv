(self.webpackChunksketchfab=self.webpackChunksketchfab||[]).push([[8400],{Kt9T:(e,t,r)=>{"use strict";r.d(t,{U:()=>l});const i="undefined"!=typeof global;let n;var o,s,a,c;i||(n=null===(o=document.getElementById("js-dom-data-webpack-public-path"))||void 0===o||null===(s=o.firstChild)||void 0===s||null===(a=s.textContent)||void 0===a||null===(c=a.replace(/SKFB_COMMENT_END/g,"--\x3e"))||void 0===c?void 0:c.trim());r.p=n||(i?global.webpackPublicPath:window.webpackPublicPath)||"no-public-path";const l=()=>r.p},vCKz:(e,t,r)=>{"use strict";r.d(t,{Z:()=>h});var i=r("NQ1V"),n=r("k46e"),o=r("Wuy/"),s=r("kghU"),a=r("MndH"),c=r("zIYZ");function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){(0,i.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e){return e[0].toUpperCase()+e.slice(1)}function p(e,t,r){t.mixins.forEach((function(i){i[e]&&i[e].apply(t,r)}))}function f(e,t){if(!e.name)throw new Error("Every mixin should have a `name` property. Check https://sketchfab.atlassian.net/wiki/display/DOC/Mixins for more info");e.dependencies&&e.dependencies.forEach((r=>{if(-1===t.mixins.map((0,c.vg)("name")).indexOf(r))throw new Error("You must include the "+r+" mixin in order to use the "+e.name+" mixin. Check https://sketchfab.atlassian.net/wiki/display/DOC/Mixins for more info")}))}function h(e){var t=e||[];return function(e){return e.extend((0,n.Z)(function(e,t){var r=function(e){return function(){if(t.prototype[e]){var r=t.prototype[e].apply(this,arguments);return p(e,this,arguments),r}p(e,this,arguments)}};return e.reduce((function(e,t){var i="after"+u(t),n="before"+u(t),o=r(t),s=r(n),a=r(i);return e[t]=o,e[n]=s,e[i]=a,e}),{})}(t,e),{mixins:e.prototype.mixins||[],constructor:function(){Array.isArray(this.mixins)?this.mixins.forEach(function(e){f(e,this),(0,o.Z)(this,(0,s.Z)((0,a.Z)(e,["name","dependencies","constructor"].concat(t))))}.bind(this)):(this.mixins=[],console.error("Mixinable instances must have a `mixins` property of type Array.","Check https://sketchfab.atlassian.net/wiki/display/DOC/Mixins for more info")),t.forEach(function(e){var t="after"+u(e),r="before"+u(e),i=this[e];this[e]=function(){this[r].apply(this,arguments);var e=i.apply(this,arguments);return this[t].apply(this,arguments),e}}.bind(this)),p("constructor",this,arguments),e.apply(this,arguments)}}),{extend:function(t,r){const i=t.mixins||[],n=d(d({},t),{},{mixins:this.prototype.mixins.filter((e=>i.every((t=>t.name!==e.name)))).concat(i)});return e.extend.call(this,n,r)}})}}},ptuJ:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var i=r("k46e");r("lotc");function n(e,t){var r=e.__withChildren.childrenConfigs[t];return"function"==typeof r.selector?r.selector.call(e):r.selector}function o(e,t){var r=e.__withChildren.childrenConfigs[t];return"function"==typeof r.options?r.options.call(e):r.options}function s(e,t){var r=e.__withChildren.childrenConfigs[t];return r.viewClass.isView?r.viewClass:r.viewClass.call(e)}var a={options:function(){return{}}};const c={name:"WithChildren",dependencies:["WithOptionTypes"],children:{},constructor:function(){this.__withChildren={childrenConfigs:{}},Object.keys(this.children).forEach(function(e){this.updateChildConfig(e,this.children[e])}.bind(this)),this.children={}},setElement:function(){return this.setChildrenElements(),this},beforeRemove:function(){this.removeChildren()},createChild:function(e){var t=n(this,e),r=o(this,e),a=s(this,e);let c={};t&&(c={el:this.$(t)},c.el.length||console.error(`\n\ncreateChild error: \`${e}\` The selector ${t} is not a valid mount point.\n`));var l=new a((0,i.Z)({},r,c));return this.children[e]=l,this},removeChild:function(e){return this.hasChild(e)&&this.getChild(e).remove(),delete this.children[e],this},removeChildren:function(){return Object.keys(this.__withChildren.childrenConfigs).forEach(this.removeChild.bind(this)),this},refreshChild:function(e){var t=function(e,t){var r=e.__withChildren.childrenConfigs[t];return!r.shouldCreateChild||r.shouldCreateChild.call(e)}(this,e),r=this.hasChild(e);return t?r?this.refreshChildViewClass(e).setChildElement(e):this.createChild(e):this.removeChild(e),this},refreshChildren:function(){Object.keys(this.__withChildren.childrenConfigs).forEach(this.refreshChild.bind(this))},initializeChild:function(e){this.refreshChild(e)},initializeChildren:function(){this.refreshChildren()},setChildElement:function(e){var t=n(this,e);return t&&this.getChild(e).setElement(this.$(t)),this},setChildrenElements:function(){return Object.keys(this.__withChildren.childrenConfigs).filter(this.hasChild.bind(this)).forEach(this.setChildElement.bind(this)),this},setChildOptions:function(e){return this.getChild(e).setOptions(o(this,e)),this},setChildrenOptions:function(){return Object.keys(this.__withChildren.childrenConfigs).filter(this.hasChild.bind(this)).forEach(this.setChildOptions.bind(this)),this},refreshChildViewClass:function(e){var t=s(this,e);return this.getChild(e)instanceof t||(this.removeChild(e),this.createChild(e)),this},renderChild:function(e){if(this.refreshChild(e),this.hasChild(e)){var t=this.getChild(e);t.isMounted?this.setChildOptions(e):t.render()}},renderChildren:function(){Object.keys(this.__withChildren.childrenConfigs).forEach(this.renderChild.bind(this))},getChildrenConfigs:function(){return this.__withChildren.childrenConfigs},updateChildConfig:function(e,t){var r=(0,i.Z)({},a,t);return this.__withChildren.childrenConfigs[e]=r,this},getChild:function(e){return this.children[e]},hasChild:function(e){return!!this.children[e]}}},OM1T:(e,t,r)=>{"use strict";r.d(t,{M:()=>o.Z,Z:()=>s});var i=r("k46e"),n=r("zIYZ"),o=r("lotc");const s={name:"WithOptionTypes",optionTypes:{},initialize:function(){},setOptions:function(e){var t=(0,i.Z)({},this.options,(0,n.me)(e));this.isMounted&&this.viewWillReceiveOptions(t),this.update(t,this.state,!1)},viewWillReceiveOptions:function(){},checkOptionTypes:function(){(0,o.Y)(this.optionTypes,this.options,"option",this.displayName||"View")}}},E9rg:(e,t,r)=>{"use strict";r.d(t,{X:()=>o,Z:()=>a});var i=r("jQDz"),n=r("CuwS");const o=Symbol("instanceKey"),s=e=>{const t=e[o];return!t||t.shouldUpdate},a={name:"WithTemplate",template:function(){return""},renderDiff:function(e){var t=this.el.cloneNode();t.innerHTML=e,(0,n.Z)(this.el,t,{onBeforeElUpdated:s,onBeforeElChildrenUpdated:s,childrenOnly:!0})},render:function(){this.renderDiff((0,i.Z)(this,"template"))}}},"08Aw":(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var i=r("NQ1V"),n=r("Cgfs"),o=r("zIYZ"),s=r("+zma");function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){(0,i.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const l=Symbol("WithGlobalState"),d=e=>({name:"WithGlobalState",initialize:function(){this.set(e(s.n2.store.getState(),this)),this[l]={unsubscribe:s.n2.store.subscribe((0,n.Z)((()=>{const t=e(s.n2.store.getState(),this),r=Object.keys(t).reduce(((e,t)=>c(c({},e),{},{[t]:this.get(t)})),{});(0,o.w8)(r,t)||this.set(t)}),16))}},destroy:function(){this[l].unsubscribe()}})},eKF4:(e,t,r)=>{"use strict";r.d(t,{Z:()=>m});var i=r("3MRe"),n=r("NQ1V"),o=r("/K0U"),s=r("k46e"),a=r("RYQm"),c=r("YlRY"),l=r("jQKg"),d=r("+zma"),u=r("08Aw"),p=r("Oyie");const f=["immediate"];function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const y=o.Z.extend({defaults:{likes:{},followings:{},subscriptions:{},reviewUpvotes:{},purchases:{}},mixins:[(0,u.Z)((e=>({likes:d.wl.authUser.likes(e)})))],endpoint:function(){return this.options.me&&!this.get("uid")?"/users/me":this.isNew()||null!==this.get("uid")?this.isNew()?"/users":`/users/${this.get("uid")}`:`/users/@${this.get("username")}`},isAuthenticated:function(){return!this.get("isAnonymous")},followUsers:function(e){return Array.isArray(e)?(e.forEach((e=>this.addFollowing(e,!0))),y.authenticate((()=>l.Z.followUsers(e)))):p.reject("First argument should be an array of user UIDs.")},follow:function(e){return this.addFollowing(e,!0),l.Z.followUser(e)},unfollow:function(e){return this.addFollowing(e,!1),y.authenticate((()=>l.Z.unfollowUser(e)))},addFollowing:function(e,t){var r={},i=this.get("followingCount")||0;r[e]=t,this.addFollowings(r),this.set("followingCount",Math.max(i+(t?1:-1),0))},addFollowings:function(e){this.set("followings",(0,s.Z)({},this.get("followings"),e))},doesFollow:function(e){return!!this.get("followings")[e]},getDoesFollow:function(e){return this.isAuthenticated()?l.Z.doesCurrentUserFollow(e).then((t=>(this.addFollowing(e,t),t))):p.resolve(!1)},getSummary:function(){return l.Z.getUserSummary(this.get("uid")).then((e=>(this.set(e),e)))},canViewPrivateModelsOf:function(e){return!!this.isAuthenticated()&&(!0===this.get("isStaff")||void 0!==e&&this.get("uid")===e)},getDoesLike:function(e){return this.isAuthenticated()?d.n2.store.dispatch(d.Nw.authUser.getDoesLike(e)):p.resolve(!1)},setPurchase:function(e,t){this.set("purchases",g(g({},this.get("purchases")),{},{[e]:t}))},getHasPurchased:function(e){return this.isAuthenticated()?l.Z.hasCurrentUserPurchased(e).then((t=>(this.setPurchase(e,t),t))):p.resolve(!1)},hasPurchased:function(e){return this.get("purchases")[e]||!1},hasSubscribed:function(e){return!!this.get("subscriptions")[e]},getHasSubscribed:function(e){return this.isAuthenticated()?l.Z.hasCurrentUserSubscribed(e).then((t=>(this.updateSubscription(e,t),t))):p.resolve(!1)},updateSubscription:function(e,t){this.updateSubscriptions({[e]:t})},updateSubscriptions:function(e){this.set("subscriptions",g(g({},this.get("subscriptions")),e))},setAllowsRestricted:function(e){return d.n2.store.dispatch(d.Nw.authUser.setAllowsRestricted(e))},doAllowRestricted:function(){return d.wl.authUser.allowsRestricted(d.n2.store.getState())},canAccessFeature:function(e){return(0,a.Z)(this.get("features").map(c.Z),(0,c.Z)(e))},getThumbnails:function(){return l.Z.getUserThumbnails(this.get("uid")).then((e=>(this.set("thumbnails",e),e)))}},{init:function(){d.wl.authUser.isInflated(d.n2.store.getState())||d.n2.store.dispatch(d.Nw.authUser.getFromPrefetched())},authenticate:function(e=(()=>{}),t){return d.n2.store.dispatch(d.Nw.authUser.authenticate((t=>{const r=y.me();return r.set(t),e(r)}),t))},getMeSingleton:function(){if(!this._me){const e=d.wl.authUser.user(d.n2.store.getState());this._me=new y(e,{me:!0})}return this._me},fetchMe:function(){return d.n2.store.dispatch(d.Nw.authUser.get({allowPrefetching:!1})).then((()=>y.getMeSingleton()))},me:function(){return y.init(),y.getMeSingleton()},getByUid:function(e,t={}){let{immediate:r}=t,n=(0,i.Z)(t,f);n=g({},n);var o=new this({uid:e}),s=function(e){return e.set({}),e};return r?(o.fetch(n),s(o)):o.fetch(n).then(s)}}),m=y},AsK1:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});const i={name:"internal",domain:"/i",parse:function(e){return e.results||[]}}},Psgz:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var i=r("R4My"),n=r.n(i);const o=(0,r("vCKz").Z)(["initialize","remove","delegateEvents","undelegateEvents","setElement","render","viewDidMount","viewDidUpdate","viewWillUnmount"])(n().View)},"/K0U":(e,t,r)=>{"use strict";r.d(t,{Z:()=>p});var i=r("jQDz"),n=r("k46e"),o=r("R4My"),s=r.n(o),a=r("vCKz"),c=r("AsK1"),l=r("JBVY"),d=r("lotc"),u=(0,a.Z)(["initialize","destroy"])(s().Model);const p=u.extend({optionTypes:{},idAttribute:"uid",backend:c.Z,constructor:function(){this.options=arguments[1]||{},u.apply(this,arguments)},initialize:function(){u.prototype.initialize.apply(this,arguments),this.checkModelTypes()},set:function(){var e=u.prototype.set.apply(this,arguments);return e},sync:function(){return u.prototype.sync.apply(this,arguments).then(function(){return this}.bind(this))},domain:function(){return(0,i.Z)(this.backend,"domain")},queryParams:function(){return{}},url:function(){var e=(0,i.Z)(this,"domain")+(0,i.Z)(this,"endpoint")+l.ZP.craft("?",this.queryParams());return e=e.replace(/(?!^)\/{2,}/g,"/")},isNew:function(){var e=this.get(this.idAttribute);return void 0===e||!(!e||"tmp_"!==e.toString().substr(0,4))},checkModelTypes:function(){(0,d.Y)(this.optionTypes,this.toJSON(),"value",this.displayName||"Model")}},{extend:function(e,t){var r=(0,n.Z)({},e,{optionTypes:(0,n.Z)({},this.prototype.optionTypes||{},e.optionTypes||{})});return u.extend.call(this,r,t)},get:function(e,t){t=(0,n.Z)({},t),"object"!=typeof e&&(e={uid:e});var r=new this(e),i=function(e){return e.set({}),e};return t.immediate?(r.fetch(t),i(r)):r.fetch(t).then(i)}})},nv4P:(e,t,r)=>{"use strict";r.d(t,{Z:()=>O});var i=r("NQ1V"),n=r("Hjnd"),o=r.n(n),s=r("k46e"),a=r("qqsP"),c=r("zIYZ"),l=r("g/7r"),d=r("Psgz"),u=r("ptuJ"),p=r("OM1T"),f=r("E9rg"),h=r("Sbzs");function g(e){return e.__withState.nextState||e.state}const y={name:"WithState",state:{},constructor:function(){this.__withState={planRender:(0,l.A2)((e=>{var t=g(this);delete this.__withState.nextState,this.update(this.options,t,!0,e)}),{leading:!1})}},setState:function(e,t=!1){var r,i,n=g(this),o=(0,h.Z)(e)?e(n):e;r=this,i=(0,s.Z)({},n,o),r.__withState.nextState=i,this.__withState.planRender(t)}};function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){(0,i.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const O=d.Z.extend({mixins:[y,p.Z,u.Z],defaultOptions:function(){return{}},isInitialized:!1,isMounted:!1,constructor:function(){this.options=(0,s.Z)({},this.defaultOptions(),(0,a.Z)(arguments[0]||{},(function(e){return void 0!==e}))),d.Z.apply(this,arguments)},initialize:function(){d.Z.prototype.initialize.apply(this,arguments),this.isInitialized=!0},setElement:function(e){var t=e[0]||e;return this.isInitialized&&this.el===t||d.Z.prototype.setElement.apply(this,arguments),this.el&&(this.el[f.X]=this),this},_removeElement:function(){this.$el.html("")},template:function(){return""},update:function(e,t,r,i){this.shouldUpdate=i||this.shouldViewUpdate(e,t);var n=this.isMounted&&this.shouldUpdate;n&&this.viewWillUpdate(e,t);var o=this.options,s=this.state;return this.options=e,this.state=t,this.onViewUpdate(n,o,s,e,t,r)},onViewUpdate:function(e,t,r){e&&(this.render(),this.viewDidUpdate(t,r))},viewWillReceiveOptions:function(e){const t=this.getDerivedStateFromOptions(e,this.state);t&&Object.keys(t).some((e=>t[e]!==this.state[e]))&&(this.state=E(E({},this.state),t))},getDerivedStateFromOptions:function(){},shouldViewUpdate:function(){return!0},viewWillUpdate:function(){},viewDidUpdate:function(){},forceUpdate:function(){this.setState({},!0)},afterRender:function(){d.Z.prototype.afterRender.apply(this,arguments),this.isMounted||(this.isMounted=!0,this.viewDidMount())},beforeRemove:function(){d.Z.prototype.beforeRemove.apply(this,arguments),this.isMounted&&(this.viewWillUnmount(),this.isMounted=!1,this.el&&delete this.el[f.X])},automagicErrors:function(e){if(this.$(".form-global-error").removeAttr("data-error"),this.$(".form-global-error").hide(),this.$("[data-error-for]").removeAttr("data-error"),e)if("object"==typeof e){var t=this.$("[data-error-for]");Object.keys(e).forEach(function(r){t.filter((function(){return o()(this).attr("data-error-for").split(",").indexOf(r)>-1})).attr("data-error",e[r].join("\n")).focus()}.bind(this))}else this.$(".form-global-error .message").text(e),this.$(".form-global-error").attr("data-error",e),this.$(".form-global-error").fadeIn()}},{isView:!0,extend:function(e,t){var r=(0,s.Z)({},e,{defaultOptions:(0,c.Cn)((0,l.J$)(this.prototype.defaultOptions||{}),(0,l.J$)(e.defaultOptions||{})),events:(0,s.Z)({},this.prototype.events||{},e.events||{}),children:(0,s.Z)({},this.prototype.children||{},e.children||{}),optionTypes:(0,s.Z)({},this.prototype.optionTypes||{},e.optionTypes||{})});return d.Z.extend.call(this,r,t)}})},lotc:(e,t,r)=>{"use strict";r.d(t,{Y:()=>m,Z:()=>y});var i=r("k46e"),n=r("R4My"),o=r.n(n),s=r("dwup"),a=r.n(s),c=r("aM4B"),l=r.n(c);function d(e){function t(t,r,i,n,o,s){var a=r[i];return s=s||i,null==a?t?new Error("Required "+o+" `"+s+"` was not specified in `"+n+"`."):null:e(r,i,n,o,s,l())}var r=t.bind(null,!1);return r.isRequired=t.bind(null,!0),r}function u(e){return Array.isArray(e)?"array":typeof e}function p(e){return d((function(t,r,i,n,s){var a=t[r],c=u(a);if(!(a instanceof o().Model))return new Error("Invalid "+n+" `"+s+"` of type `"+c+"` supplied to `"+i+"`, expected `Backbone.Model`.");for(var d in e){var p=e[d];if(p){var f=p(a.attributes,d,i,n,r+".get('"+d+"')",l());if(f)return f}}return null}))}var f=p({}),h=d((function(e,t,r,i,n){var s=e[t],a=u(s);return s instanceof o().Collection?null:new Error("Invalid "+i+" `"+n+"` of type `"+a+"` supplied to `"+r+"`, expected `Backbone.Collection`.")})),g=(0,i.Z)({},a());g.valuesOf=function(e){return d((function(t,r,i,n,o){var s=function(e,t,r,i){if("function"!=typeof e)return new Error("Property `"+t+"` of `"+r+"` has invalid OptionType notation inside "+i+".")}(e,o,i,"valuesOf");if(s)return s;var a=t[r],c=u(a);if("object"!==c)return new Error("Invalid "+n+" `"+o+"` of type `"+c+"` supplied to `"+i+"`, expected an object.");for(var d in a){var p=e(a,d,i,n,o+"."+d,l());if(p instanceof Error)return p}return null}))},g.modelShape=p,g.model=f,g.collection=h,g.numberBetween=function(e,t){return d((function(r,i,n,o,s){var c=a().number(r,i,n,o,s,l());if(c)return c;var d=r[i];return d<e||d>t?new Error("Invalid "+o+" `"+i+"` of value `"+d+"` supplied to `"+n+"`, expected number between "+e+" and "+t+"."):null}))},g.component=g.oneOfType([g.shape({viewClass:g.func.isRequired,options:g.object}).isRequired,g.arrayOf(g.shape({viewClass:g.func.isRequired,options:g.object})).isRequired]),g.selectOptionListOf=function(e){return g.arrayOf(g.shape({title:g.string.isRequired,value:e,default:g.bool}).isRequired)};const y=g;var m=a().checkPropTypes},KDlt:(e,t,r)=>{"use strict";r.d(t,{Z:()=>j});var i=r("NQ1V"),n=r("Hjnd"),o=r.n(n),s=r("MndH"),a=r("RyuJ"),c=r("RYQm"),l=r("p7Vz"),d=r("KYXT"),u=r.n(d),p=r("LLYa"),f=r("dAEW"),h=r("p5Lb"),g=r("zIYZ"),y=r("hDfq"),m=r("JBVY"),E=r("iu9k"),O=r("1nxQ"),P=r("TUor");function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){(0,i.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var w=u().Loader.extend({getSource:function(e){return{src:{type:"code",obj:window.nunjucksPrecompiled[e]},path:e}}}),S=new(u().Environment)([new w],{autoescape:!0});S.addGlobal("url",((e,t)=>(0,E.HQ)(e,(0,s.Z)(t,["__keywords"])))),S.addFilter("log",(function(e){return console.log("[Nunjucks] : ",e),e})),S.addFilter("urlize",(function(e,t,r,i){var n=Array.prototype.slice.call(arguments,0);if(n.length&&n[n.length-1].__keywords){var o=n.pop(),s=n[1],a=n[2],c=n[3];t=s||o.trim_url_limit,r=a||o.nofollow,i=c||o.target}return"string"==typeof e&&(e=O.r(e)),u().runtime.markSafe(O.Pg(e,{trimUrlLimit:t,noFollow:r,target:i}))})),S.addFilter("best_fit",f.Z),S.addFilter("iterable",(function(e){return Array.isArray(e)?e:[e]})),S.addFilter("slugify",O.lV),S.addFilter("call_macro_by_name",(function(e){var t=this.ctx[e],r=Array.prototype.slice.call(arguments,1);if(!t)throw new Error('Missing macro "'+e+'"');return t.apply(this,r)})),S.addFilter("user_profile_filled",(function(e){return"avatar-blue"!==e.avatars.name&&"avatar-orange"!==e.avatars.name&&"avatar-grey"!==e.avatars.name&&(e.biography||e.tagline||e.city||e.country)&&(e.website||e.twitterUsername||e.linkedinUsername||e.facebookUsername||e.instagramUsername)})),S.addFilter("has_plan_type",y.mq),S.addFilter("badge_label",y.w8),S.addFilter("is_private",(e=>(0,p.hv)(e.visibility))),S.addFilter("print_suggestion_verb",(function(e,t){var r="";return 0===e&&(r=t.displayName+" is a <b>popular</b> user"),10===e&&(r="You <b>liked</b> their models :"),20===e&&(r="You share a common <b>skill</b> :"),30===e&&(r="You share a common <b>interest</b> :"),40===e&&(r="Your profiles are similar."),u().runtime.markSafe(r)})),S.addFilter("print_suggestion_target",(function(e,t){if(0===t)return"";if(10===t){var r=[];return e.forEach((e=>{const t=o()(`<a href="${(0,E.HQ)("models:view_without_slug",{model_id:e.uid})}">${e.name}</a>`);r.push(o()("<div>").append(t).html())})),u().runtime.markSafe(r.join(", "))}return 20===t||30===t?e.name:40===t?"":void 0})),S.addFilter("underscorify",O.Xr),S.addFilter("image_container",(function(e,t,r,i,n,o="",s=""){var a=(0,f.Z)(e,t,r);const c=n?`data-src="${a}"`:`src="${a}"`;return u().runtime.markSafe(`\n        <div\n            class="image-container --cover ${o}"\n            style="width: ${i?"100%":t+"px"};"\n        >\n            <img class="image-container__image" ${c} alt="${s}" />\n            <div style="padding-top: ${r/t*100}%"></div>\n        </div>\n    `)})),S.addFilter("query_string",(function(e,t){var r=document.createElement("a");return r.href=e,Object.keys(t).length&&(r.search="?"+m.ZP.craft(m.ZP.reset(r.search,t))),r.href})),S.addFilter("first_n",(function(e=[],t){return e.slice(0,t)})),S.addFilter("fill_null",(function(e=[],t){for(var r=e.slice();r.length<t;)r.push(null);return r})),S.addFilter("paragraphy",((...e)=>u().runtime.markSafe(O.O4(...e)))),S.addFilter("striptags",((...e)=>u().runtime.markSafe(O.oN(...e)))),S.addFilter("humanize_number",h.sH),S.addFilter("humanize_file_size",h.$B),S.addFilter("format_order_uid",O.UW),S.addFilter("format_price",h.T4),S.addFilter("format_rating",h.A6),S.addFilter("comma_formatted_number",h.Qv),S.addFilter("pluralize",O._6),S.addFilter("merge",(function(e,t){return v(v({},e),t)})),S.addFilter("json_data",(function(e){return JSON.stringify(e).replace(/<\//g,"<\\/")})),S.addFilter("format_date",((e,t="MMM. Do YYYY")=>{const r="full"===t?"YYYY/MM/DD HH:mm":t;return P.Bv.utc(e).format(r)})),S.addFilter("time_ago",P.Sy),S.addFilter("seconds_to_duration",P.Qh);var R=S.getFilter("trim");S.addFilter("trim",(function(e){return null===e?"":R(e)}));var A=function(e,t){return new Error("\n\n"+e+(t?" with `"+t+"` className":"")+" is not a Component. \nThe `component` filter only accepts component elements.\nYou can get a component element by calling `Component#createChildrenComponents(childrenConfigs)`, or `Component#createChildComponent(childName, childConfig)`.\n/!\\ Note that this is different from Component instances.\n")};function _(e,t,r){if(!e)return r?`<div data-component ${t?`class="${t}"`:""}>${r}</div>`:"";if("function"!=typeof e)throw A(e,t);var i=e();if(!i.isComponentElement)throw A(e,t);var n="";try{n=i.template()}catch(e){throw new Error("\n\nError while getting the template of Component `"+i.displayName+"`:\n\n"+e.stack+"\n\n")}return`<div data-component id="${i.cid}" ${t?`class="${t}"`:""}>${n}</div>`}function T(e){return Object.keys(e).filter((function(t){return e[t]})).join(" ")}function I(e){return Object.keys((0,g.Gj)(e)).map((function(t){return O.Kh(t)+": "+e[t]+";"})).join(" ")}function D(e,t){return(0,a.Z)(e)+'="'+(0,a.Z)(t)+'"'}S.addFilter("component",(function(e,t,r){return u().runtime.markSafe(Array.isArray(e)?function(e,t,r){return e.map((e=>_(e,t,r))).join("")}(e,t,r):_(e,t,r))})),S.addFilter("class_names",T),S.addFilter("style",I),S.addFilter("attributes",(function(e){return u().runtime.markSafe(Object.keys((0,g.Gj)(e)).map((function(t){return(0,c.Z)(["disabled","checked","selected","readonly","multiple"],t)?e[t]?D(t,!0):"":D(t.match(/^classNames?$/)?"class":O.Kh(t),"style"===t?I(e[t]):"classNames"===t?T(e[t]):e[t])})).join(" "))})),S.addFilter("get_delete_draft_date",P.ai);const j={get:(0,l.Z)((function(e,t){return S.render(e+".jinja",t)})),getFromString:(0,l.Z)((function(e,t){return S.renderString(e,t)})),getFromMacro:function(e,t,r){Array.isArray(e)&&(r=t,t=e[1],e=e[0]);var i=function(r){return S.renderString(["{%- from source import "+t+" -%}","{{ "+t+"("+r.map((function(e,t){return"parameters[ "+t+" ]"})).join(",")+") }}"].join("\n"),{source:e+".jinja",parameters:r})};return r?i(r):i}}},abQY:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var i=r("Hjnd"),n=r.n(i),o=r("TxBr"),s=r("Oyie"),a={"http:":"80","https:":"443"};function c(){var e=n().ajax;n().ajax=function(){var t=arguments.length>=2?arguments[1]:arguments[0];return"GET"===t.type.toUpperCase()||"HEAD"===t.type.toUpperCase()||o.ZP.get("sb_csrftoken")?e.apply(this,arguments):new s(((t,r)=>{var i=new XMLHttpRequest;i.open("GET","/i/csrf"),i.addEventListener("load",(()=>{t(e.apply(this,arguments))})),i.addEventListener("error",(e=>{r(e)})),i.send()}))},n()(document).ajaxSend((function(e,t,r){var i=window.location,n=document.createElement("a");n.href=r.url,n.href=n.href;var s=n.port;s=(s="0"!==s?s:a[n.protocol])!==a[n.protocol]?s:"",n.protocol!==i.protocol||n.hostname!==i.hostname||s!==i.port||t.setRequestHeader("X-CsrfToken",o.ZP.get("sb_csrftoken"))}))}},"6KeQ":(e,t,r)=>{"use strict";var i=r("45Yh");window.webpackManifest=(0,i.C8)("webpack-manifest","json")},dAEW:(e,t,r)=>{"use strict";function i(e,t,r){if(!e)return console.error("No data passed to imageBestFit"),"";const i=e.images?e.images:e;return 0===i.length?(console.error("No images passed to imageBestFit"),""):1===i.length?i[0].url:i.reduce((function(e,i){var n=Math.abs(t-e.width)+Math.abs(r-e.height),o=Math.abs(t-i.width)+Math.abs(r-i.height);return(e.width<t||e.height<r)&&(n+=t*r),(i.width<t||i.height<r)&&(o+=t*r),n<o?e:i})).url}r.d(t,{Z:()=>i})},CTpj:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=!1;const n=function(e){return void 0!==e&&(i=e),i}},"6y3v":(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var i=r("Hjnd"),n=r.n(i),o=r("k46e"),s=r("cSHm");function a(){var e=n().ajax;n().ajax=function(){var t=arguments.length>=2?arguments[1]:arguments[0];if((t=(0,o.Z)({allowPrefetching:!0,cacheBusting:!0},t)).method)throw new Error('The "method" option is actually "type" ;)');if(t.allowPrefetch)throw new Error('The "allowPrefetch" option is actually "allowPrefetching" ;)');if(t.immediate&&!t.allowPrefetching)throw new Error('The "immediate" option cannot be used with "allowPrefetching" false (mutually exclusives)');if("GET"===t.type.toUpperCase()){var r=s.ZP.get(t.url);if(!r&&t.immediate)throw new Error('The "'+t.url+'" URL should be prefetched: immediate loading required');if(r&&t.allowPrefetching){var i={status:200,data:r};t.success&&t.success(i.data,"success",i),t.complete&&t.complete(i,"success");var a=n().Deferred().resolve(i.data,"success",i);return a.readyState=4,a.status=200,a.abort=function(){},a}var c=e.apply(this,arguments);return c.then((function(e,r,i){return s.ZP.register(t.url,e),n().Deferred().resolve(e,r,i)})),c}return"PATCH"===t.type.toUpperCase()||t.cacheBusting?(s.ZP.invalidate(t.url),e.apply(this,arguments)):e.apply(this,arguments)}}},kAIv:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var i=r("Hjnd"),n=r.n(i),o=r("X9mO"),s=r("Oyie"),a=(0,o.Z)({WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},(function(e,t){return t in document.body.style}));const c=e=>new s((t=>n()(e).one(a,t)))},"9Cng":(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var i=r("k46e"),n=r("QbBG"),o=r("KDlt"),s=r("lotc");r("dW16");const a=n.Z.extend({displayName:"Button",optionTypes:{text:s.Z.string.isRequired,subtext:s.Z.string,onClick:s.Z.func,size:s.Z.oneOf(["small","medium","input","large","huge"]),type:s.Z.oneOf(["ninja","important","danger","primary","secondary","tertiary","primary-inverted","store","plan-pro","plan-prem","plan-ent"]),className:s.Z.string,style:s.Z.object,attrs:s.Z.object,disabled:s.Z.bool,loading:s.Z.bool,iconClassName:s.Z.string,iconAttrs:s.Z.object},defaultOptions:{onClick:function(){},size:"medium",type:"primary",className:"",style:{},attrs:{},iconClassName:"",iconAttrs:{},disabled:!1,loading:!1},events:{click:function(e){this.isDisabled()||this.options.onClick(e)}},isDisabled:function(){return this.options.disabled||this.options.loading},template:function(){var e=(0,i.Z)({},this.options.attrs,{classNames:(0,i.Z)({"btn-loading":this.options.loading},this.options.attrs.classNames,["button","btn-"+this.options.type,"btn-"+this.options.size,this.options.className].reduce((function(e,t){return e[t]=!0,e}),{})),style:(0,i.Z)({},this.options.attrs.style,this.options.style),disabled:this.isDisabled()});return o.Z.getFromMacro("front/macros/components/atoms/button","button",[{text:this.options.text,subtext:this.options.subtext,loading:this.options.loading,hasIcon:!!this.options.iconClassName||!!Object.keys(this.options.iconAttrs).length,iconAttrs:(0,i.Z)({},this.options.iconAttrs,{className:"icon "+(this.options.iconAttrs.className||this.options.iconClassName)}),attrs:e}])}})},IDtV:(e,t,r)=>{"use strict";r.d(t,{Z:()=>P});var i=r("D4hk"),n=r("NQ1V"),o=r("sQwH"),s=r("3MRe"),a=r("3Z9q"),c=r("bjID"),l=r("+zma"),d=r("28Cy"),u=r("RyS8"),p=r("lrhy"),f=r("kAIv"),h=r("XXsV");const g=["children","identifier","onCancel"];function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const E=e=>{let{children:t,identifier:r,onCancel:i}=e,n=(0,s.Z)(e,g);const c=a.useCallback((e=>{n.shouldExitOnEscape&&"Escape"===e.key&&h.K.getTopPopup()===r&&(i(e),e.stopPropagation())}),[i,r,n.shouldExitOnEscape]);return a.useEffect((()=>(n.shouldExitOnEscape&&window.addEventListener("keydown",c),()=>window.removeEventListener("keydown",c))),[n.shouldExitOnEscape,c]),(0,o.Z)("div",{className:"popup-container hidden",onClick:e=>{n.shouldExitOnClickOutside&&e.target===e.currentTarget&&i(e)}},void 0,(0,o.Z)("div",{className:"js-popup js-popup-content c-popup__container"},void 0,t))},O={cleanOnClose:!0,shouldExitOnClickOutside:!0,shouldExitOnEscape:!0,shouldRejectOnCancel:!1},P=(e,t=O)=>class{constructor(e){(0,n.Z)(this,"options",{}),(0,n.Z)(this,"element",void 0),(0,n.Z)(this,"root",void 0),(0,n.Z)(this,"identifier",Symbol()),(0,n.Z)(this,"_promise",void 0),(0,n.Z)(this,"render",void 0),this.options=m(m({},t),e),this.element=document.createElement("div"),this.root=(0,c.createRoot)(this.element)}get container(){return this.element.querySelector(".popup-container")}get promise(){return this._promise||(this._promise=(0,p.pJ)()),this._promise}open(){document.body.contains(this.element)||document.body.appendChild(this.element);const t=["continue","cancel","open","close"].reduce(((e,t)=>(0,d.Z)(e,t,this[t].bind(this))),{});try{return this.render=()=>{this.root.render(a.createElement(E,(0,i.Z)({identifier:this.identifier,onCancel:this.cancel.bind(this)},this.options),(0,o.Z)(l.n2.Provider,{},void 0,a.createElement(e,(0,i.Z)({popup:t},this.options)))))},this.render(),setTimeout((()=>this.show()),0),this.promise}catch(e){this.promise.reject(e)}}close(){this.hide(),this.options.cleanOnClose&&(0,p.Vs)(500,(0,f.Z)(this.element)).catch((()=>{})).then((()=>this.remove()))}continue(e){return this.close(),this.promise.resolve(e)}cancel(e){return this.close(),this.options.shouldRejectOnCancel?this.promise.reject(new u.ud(null==e?void 0:e.toString())):this.promise.resolve({manuallyClosed:Boolean(e&&"string"!=typeof e)})}update(e){this.options=m(m({},this.options),e),this.render()}show(){var e;null===(e=this.container)||void 0===e||e.classList.remove("hidden"),document.body.classList.add("--prevent-scroll"),h.K.add(this.identifier)}hide(){var e;null===(e=this.container)||void 0===e||e.classList.add("hidden"),h.K.delete(this.identifier),h.K.isEmpty()&&document.body.classList.remove("--prevent-scroll")}remove(){this.root.unmount(),document.body.removeChild(this.element)}}},Bpah:(e,t,r)=>{"use strict";r.d(t,{Z:()=>w});var i=r("NQ1V"),n=r("R1Z3"),o=r("8nmZ"),s=r("T4DV"),a=r("qqsP"),c=r("HPk7"),l=r("g/7r"),d=r("+zma");const u=(0,o.Z)((e=>(0,l.dC)((t=>{d.n2.store.dispatch(d.Nw.entities.update({[e]:t}))})))),p=(e,t=`${e}s`)=>({name:"WithEntityUpdate",initialize:function(){const r=()=>{const r=this.get("uid");if(!r)return;const i=(0,a.Z)(this.toJSON(),(e=>!(e=>e&&(0,s.Z)(e)&&e.cid)(e)));!d.wl.entities[e](r,d.n2.store.getState())&&this.isInflated()&&u(t)([i])};setTimeout((()=>r()),16),this.on("change",(0,c.Z)(r,250))}});var f=r("08Aw"),h=r("eKF4"),g=r("jQKg"),y=r("Yxa5"),m=r("/K0U"),E=r("RXbz"),O=r("RyS8"),P=r("Oyie");function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){(0,i.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const w=m.Z.extend({mixins:[p("model"),(0,f.Z)(((e,t)=>(0,n.Z)(d.wl.entities.model(t.get("uid"),e),["name","description","htmlDescription","visibility","tags","categories","likeCount","isRestricted","org","orgProject"])||{}))],defaults:{collections:{}},initialize:function(){m.Z.prototype.initialize.apply(this,arguments),this.maxFailCount=5},endpoint:function(){return"/models"+(this.isNew()?"":`/${this.get("uid")}`)},hit:function(){var e=h.Z.me();try{let e=window.parent?window.parent.location.pathname:window.location.pathname;if(/^\/orgs\/\w*\/.*/.test(e))return P.resolve()}catch(e){}if(e.isAuthenticated()){var t=this.get("user")&&e.get("uid")===this.get("user").uid,r=e.get("isStaff");if(t||r)return P.resolve()}if(!this.get("isPublished"))return P.resolve();let i="";try{i=(0,E.Z)().href}catch(e){console.error(e)}return g.Z.viewModel(this.get("uid"),i)},isPublished:function(){return(this.get("isPublished")||!!this.get("publishedAt"))&&!this.get("isDeleted")},sharing:function(){return g.Z.getModelSharing(this.get("uid")).then((e=>(this.set("sharing",e),e)))},addCollection:function(e,t){this.addCollections({[e]:t})},addCollections:function(e){this.set("collections",v(v({},this.get("collections")),e))},isInflated:function(){var e=Object.keys(this.attributes);return e.indexOf("description")>-1&&(e.indexOf("tags")>-1||e.indexOf("preferOriginalNormalMap"))},isInCollection:function(e){return!!this.get("collections")[e]},isProcessing:function(){var e=this.get("status");return e&&("PROCESSING"===e.processing||"PENDING"===e.processing)},getCollections:function(e){const t=e.filter((e=>!(e in this.get("collections"))));return t.length?g.Z.getModelCollections(this.get("uid"),t).then((({results:e})=>(this.addCollections(e),e))):(this.trigger("change:collections"),P.resolve())},checkStatusAndRetry:function(){return y.Z.retry(1/0,(()=>g.Z.getModelStatus(this.get("uid")).then((e=>e?(this.set("status",e),this.set("processingStatus",{PENDING:0,PROCESSING:1,SUCCEEDED:2,FAILED:3}[e.processing.toUpperCase()]),["SUCCEEDED","FAILED"].includes(e.processing.toUpperCase())?e:P.reject(new O.Ms)):P.reject(new O.Ms)))),{interval:2e3}).catch((()=>({processing:"FAILED",error:"The server failed to answer in time"})))}})},"3O9e":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d,get:()=>s,getJSON:()=>c,remove:()=>o,set:()=>a,setJSON:()=>l});var i=r("4GWE"),n=r("Oyie");const o=e=>{try{localStorage.removeItem(e),localStorage.removeItem(`${e}-expire`)}catch(e){console.error(e)}},s=(e,t)=>{try{const r=localStorage.getItem(e)||t,n=localStorage.getItem(`${e}-expire`);return n&&Date.now()>(0,i.Z)(n)?(o(e),t):r}catch(e){return console.error(e),t}},a=(e,t,r)=>{const i=Date.now();try{localStorage.setItem(e,t),r&&localStorage.setItem(`${e}-expire`,(i+r).toString())}catch(e){console.error(e)}},c=(e,t)=>new n((r=>{const i=s(e,t);r(i?JSON.parse(i):t)})),l=(e,t,r)=>a(e,JSON.stringify(t),r),d={get:s,set:a,remove:o,getJSON:c,setJSON:l}},fBod:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>Se,loadAddSeats:()=>k,loadAddToCollectionPopup:()=>L,loadAuthenticatePopup:()=>C,loadBulkModelDeletePopup:()=>K,loadBulkModelEditPopup:()=>J,loadBulkModelTransferPopup:()=>$,loadCancelPlanPopup:()=>ve,loadChangeLicensePopup:()=>V,loadCollectionEmbedPopup:()=>w,loadCollectionPreviewPopup:()=>te,loadCollectionSettingsPopup:()=>re,loadContactPopup:()=>ie,loadContactUserPopup:()=>be,loadCreateCollectionPopup:()=>ne,loadCreateFolderPopup:()=>q,loadCreateProjectPopup:()=>Y,loadDeactivateMember:()=>M,loadDeleteAccountPopup:()=>we,loadDeleteMaterialPopup:()=>de,loadDeletePopup:()=>ee,loadDeleteProjectPopup:()=>X,loadDetailedTopMetricPopup:()=>Pe,loadDisconnectAuthPopup:()=>pe,loadDownloadOwnModelPopup:()=>U,loadDownloadPopup:()=>S,loadEgStorePolicyPopup:()=>Oe,loadEgTermsPopup:()=>le,loadEmailConfirmationPopup:()=>A,loadFollowSuggestionsPopup:()=>oe,loadInviteMember:()=>N,loadLicensesPopup:()=>ce,loadMessagePopup:()=>P,loadModelEmbedPopup:()=>v,loadModelLikesPopup:()=>R,loadModelPagePopup:()=>j,loadModelTransferPopup:()=>W,loadPlanSubscribePopup:()=>ue,loadProfileWizardPopup:()=>se,loadProjectAddMembersPopup:()=>Q,loadProjectAddMembersPopupV2:()=>H,loadProjectInvitePopup:()=>z,loadRemoveFromProject:()=>x,loadRemoveMember:()=>F,loadReportPopup:()=>ae,loadResetPassword:()=>_,loadResetPasswordPlugin:()=>T,loadShareAfterPublishPopup:()=>I,loadShareOrgModel:()=>G,loadSharePopup:()=>D,loadSsoEmailPopup:()=>Z,loadUploadPopup:()=>b,loadVisibilityPopup:()=>B,openAddToCollectionPopup:()=>ye,openCartLimitReachedPopup:()=>me,openDownloadPopup:()=>Ee,openEgTermsPopup:()=>fe,openMaintenancePopup:()=>he,openMessagePopup:()=>ge});var i=r("Bpah"),n=r("eKF4"),o=r("hrlB"),s=r("+zma"),a=r("LLYa"),c=r("RyS8"),l=r("NQ1V"),d=r("3MRe"),u=r("lrhy"),p=r("ws/s");const f=["LoadingPopup"];function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e,t){const r=t||{},{LoadingPopup:i=p.Z}=r,n=(0,d.Z)(r,f);let o=!1;const s=new i(g(g({},n),{},{shouldRejectOnCancel:!0})),a=u.k3.fromPromise(e()),l=u.k3.fromPromise((0,u.gw)(500));return l.then((()=>{o=!0,s.open().catch((()=>{a.cancel()}))})).catch((0,c.KQ)(c.FU)),a.then((({default:e})=>(o?s.close():l.cancel(),e))).catch((e=>{throw o?s.close():l.cancel(),e})).catch((e=>{throw e instanceof c.FU?new c.ud:e}))}var m=r("iu9k"),E=r("9Cng"),O=r("Oyie");const P=()=>y((()=>O.all([r.e(6952),r.e(4511)]).then(r.bind(r,"gZ/N")))),b=()=>y((()=>O.all([r.e(6952),r.e(2698),r.e(1142),r.e(4197),r.e(7112),r.e(7549),r.e(1287),r.e(7380),r.e(6871),r.e(3769),r.e(6138),r.e(8048),r.e(7386),r.e(8054),r.e(8813),r.e(9411),r.e(9809),r.e(2322),r.e(2094),r.e(529),r.e(7418)]).then(r.bind(r,"JJ/r"))),{message:"Loading the required files for your upload.",title:"Preparing upload",width:600}),v=()=>y((()=>O.all([r.e(6952),r.e(2698),r.e(4197),r.e(2852),r.e(1287),r.e(6871),r.e(1087)]).then(r.bind(r,"XFpV"))),{message:"Loading the required files",title:"Loading embed..."}),w=()=>y((()=>O.all([r.e(6952),r.e(4197),r.e(2852),r.e(9244)]).then(r.bind(r,"Okoc"))),{message:"Loading the required files",title:"Loading collection..."}),S=()=>y((()=>O.all([r.e(6952),r.e(4197),r.e(2833)]).then(r.bind(r,"Lb7x"))),{message:"Loading the required files",title:"Preparing download"}),R=()=>y((()=>O.all([r.e(6952),r.e(4197),r.e(2852),r.e(3769),r.e(736)]).then(r.bind(r,"20v9"))),{title:"Loading likes"}),A=()=>y((()=>O.all([r.e(6952),r.e(1142),r.e(2852),r.e(7112),r.e(2026)]).then(r.bind(r,"5Mgu")))),_=()=>y((()=>O.all([r.e(6952),r.e(1142),r.e(4197),r.e(2852),r.e(7112),r.e(7549),r.e(3130)]).then(r.bind(r,"8BJ6")))),T=()=>y((()=>O.all([r.e(6952),r.e(1142),r.e(4197),r.e(2852),r.e(7112),r.e(7549),r.e(6485)]).then(r.bind(r,"Ry6k")))),I=()=>y((()=>O.all([r.e(6952),r.e(4197),r.e(1238),r.e(3082),r.e(4040)]).then(r.bind(r,"CPuQ")))),D=()=>y((()=>O.all([r.e(2852),r.e(1238),r.e(4683)]).then(r.bind(r,"VmP3")))),j=()=>y((()=>O.all([r.e(674),r.e(6952),r.e(2698),r.e(7913),r.e(1612),r.e(4798),r.e(4197),r.e(7549),r.e(1287),r.e(3769),r.e(8054),r.e(9802),r.e(1851),r.e(9559),r.e(6940),r.e(8557)]).then(r.bind(r,"73yg")))),L=()=>y((()=>O.all([r.e(4197),r.e(473)]).then(r.bind(r,"YQs5")))),C=()=>y((()=>O.all([r.e(6952),r.e(1142),r.e(4197),r.e(7112),r.e(8463),r.e(5460),r.e(1251)]).then(r.bind(r,"7zGY")))),Z=()=>y((()=>O.all([r.e(6952),r.e(1142),r.e(4197),r.e(2852),r.e(7112),r.e(6342)]).then(r.bind(r,"mdKU")))),U=()=>y((()=>O.all([r.e(6952),r.e(4197),r.e(722)]).then(r.bind(r,"fntp")))),N=()=>y((()=>O.all([r.e(6952),r.e(1142),r.e(4197),r.e(7112),r.e(7380),r.e(1416)]).then(r.bind(r,"1yhe")))),M=()=>y((()=>O.all([r.e(6952),r.e(4197),r.e(5086)]).then(r.bind(r,"KwSA")))),F=()=>y((()=>O.all([r.e(6952),r.e(4197),r.e(2181)]).then(r.bind(r,"pTq5")))),x=()=>y((()=>O.all([r.e(6952),r.e(4197),r.e(8431)]).then(r.bind(r,"64Ec")))),k=()=>y((()=>O.all([r.e(6952),r.e(1142),r.e(4197),r.e(7112),r.e(6226)]).then(r.bind(r,"hJLA")))),G=()=>y((()=>O.all([r.e(6952),r.e(4197),r.e(3082),r.e(5306)]).then(r.bind(r,"rr/F")))),V=()=>y((()=>r.e(1366).then(r.bind(r,"YfsX")))),B=()=>y((()=>r.e(5608).then(r.bind(r,"NZ0A")))),Y=()=>y((()=>O.all([r.e(6952),r.e(1142),r.e(4197),r.e(7112),r.e(9501)]).then(r.bind(r,"/TcC")))),q=()=>y((()=>O.all([r.e(6952),r.e(1142),r.e(4197),r.e(2852),r.e(7112),r.e(2458)]).then(r.bind(r,"edGM")))),Q=()=>y((()=>O.all([r.e(6952),r.e(4197),r.e(7380),r.e(3302)]).then(r.bind(r,"Nj2a")))),H=()=>y((()=>O.all([r.e(6952),r.e(4197),r.e(7380),r.e(6250)]).then(r.bind(r,"JzH/")))),X=()=>y((()=>O.all([r.e(1142),r.e(4197),r.e(7112),r.e(4884)]).then(r.bind(r,"/CvE")))),z=()=>y((()=>O.all([r.e(6952),r.e(1142),r.e(4197),r.e(7112),r.e(233)]).then(r.bind(r,"KWS2")))),W=()=>y((()=>O.all([r.e(6952),r.e(1142),r.e(4197),r.e(7112),r.e(7380),r.e(6871),r.e(8048),r.e(7386),r.e(9411)]).then(r.bind(r,"h0W9")))),$=()=>y((()=>O.all([r.e(6952),r.e(1142),r.e(4197),r.e(2852),r.e(7112),r.e(7380),r.e(6871),r.e(7386),r.e(8340)]).then(r.bind(r,"MX32")))),J=()=>y((()=>O.all([r.e(6952),r.e(1142),r.e(4197),r.e(2852),r.e(7112),r.e(6871),r.e(8048),r.e(9673)]).then(r.bind(r,"6QWi")))),K=()=>y((()=>O.all([r.e(4197),r.e(2852),r.e(2093)]).then(r.bind(r,"Sgka")))),ee=()=>y((()=>O.all([r.e(6952),r.e(7549),r.e(3517)]).then(r.bind(r,"UUAO")))),te=()=>y((()=>O.all([r.e(6952),r.e(1238),r.e(756)]).then(r.bind(r,"UIpw")))),re=()=>y((()=>O.all([r.e(6952),r.e(7649)]).then(r.bind(r,"ooIM")))),ie=()=>y((()=>O.all([r.e(6952),r.e(7549),r.e(9708)]).then(r.bind(r,"L/KY")))),ne=()=>y((()=>O.all([r.e(6952),r.e(2750)]).then(r.bind(r,"nsHN")))),oe=()=>y((()=>O.all([r.e(6952),r.e(4197),r.e(2852),r.e(3769),r.e(492)]).then(r.bind(r,"xOEx")))),se=()=>y((()=>O.all([r.e(6952),r.e(7549),r.e(2307),r.e(50)]).then(r.bind(r,"5VPU")))),ae=()=>y((()=>O.all([r.e(6952),r.e(7549),r.e(178)]).then(r.bind(r,"qxMw")))),ce=()=>y((()=>O.all([r.e(6952),r.e(2698),r.e(2322),r.e(8193)]).then(r.bind(r,"PZxF")))),le=()=>y((()=>O.all([r.e(4197),r.e(2852),r.e(1391)]).then(r.bind(r,"IAnk")))),de=()=>y((()=>O.all([r.e(4197),r.e(2852),r.e(920)]).then(r.bind(r,"W0y+")))),ue=()=>y((()=>O.all([r.e(674),r.e(6952),r.e(4197),r.e(5629)]).then(r.bind(r,"GVnv")))),pe=()=>y((()=>O.all([r.e(4197),r.e(6735)]).then(r.bind(r,"Fajj")))),fe=()=>le().then((e=>new e({shouldExitOnClickOutside:!1,shouldExitOnEscape:!1}).open())),he=e=>P().then((t=>new t({title:"Maintenance",text:e,buttons:{ok:!0}}).open())),ge=(e,t)=>P().then((r=>new r({title:t,text:e,shouldRejectOnCancel:!0,renderButtons:e=>[{viewClass:E.Z,options:{key:"cancel",type:"tertiary",text:"cancel",onClick:()=>e.cancel(new c.ud)}},{viewClass:E.Z,options:{key:"clear",type:"danger",text:"clear cart",onClick:()=>e.continue()}}]}).open())),ye=async e=>{if(n.Z.me().get("isLimited")){return(new(await A())).open().then((()=>O.reject(new Error("User needs to confirm their email"))))}await new O((e=>n.Z.authenticate(e)));return new(await L())({model:e}).open()},me=()=>P().then((e=>new e({title:"Cart limit reached",text:`You have reached the limit of ${o.Z.storeCartMaxSize} models you can put in one cart. Please proceed to checkout before adding new models to your cart.`,renderButtons:e=>[{viewClass:E.Z,options:{key:"cancel",text:"Cancel",type:"tertiary",onClick:e.cancel}},{viewClass:E.Z,options:{key:"checkout",text:"checkout now",type:"store",onClick:()=>{window.location.assign((0,m.HQ)("store:checkout"))}}}]}).open())),Ee=(e,{userCanDownloadOrgModel:t=!1}={})=>{const r=s.n2.store.getState(),n=s.wl.authUser.user(r);return(0,a.aI)(e)&&e.mayDownloadThisModel||t||(0,a.Rn)(n,e)?"store"!==e.downloadType&&n.isLimited?A().then((e=>(new e).open())):s.wl.authUser.isAuthenticated(r)?s.wl.authUser.isLimited(r)?O.resolve(s.n2.store.dispatch(s.Nw.messages.add({level:"warning",type:"confirmEmail"}))):(location.hash="#download",S().then((t=>new t({model:new i.Z(e)}).open())).then((()=>{history.replaceState("",document.title,window.location.pathname+window.location.search)})).catch((0,c.KQ)(c.ud))):O.resolve(s.n2.store.dispatch(s.Nw.authUser.authenticate((()=>{}),{redirectUrl:window.location.href}))):O.resolve()},Oe=()=>y((()=>O.all([r.e(4197),r.e(2852),r.e(7641)]).then(r.bind(r,"8FiA")))),Pe=()=>y((()=>O.all([r.e(6952),r.e(4197),r.e(2852),r.e(7380),r.e(2226)]).then(r.bind(r,"j366")))),be=()=>y((()=>O.all([r.e(4197),r.e(2852),r.e(8606)]).then(r.bind(r,"y+kJ")))),ve=()=>y((()=>O.all([r.e(4197),r.e(8593)]).then(r.bind(r,"buF5")))),we=()=>y((()=>O.all([r.e(4197),r.e(651)]).then(r.bind(r,"abxi")))),Se={loadAddSeats:k,loadAddToCollectionPopup:L,loadAuthenticatePopup:C,loadCollectionEmbedPopup:w,loadCollectionSettingsPopup:re,loadCreateProjectPopup:Y,loadCreateFolderPopup:q,loadDeactivateMember:M,loadDeleteProjectPopup:X,loadDownloadOwnModelPopup:U,loadDownloadPopup:S,loadEmailConfirmationPopup:A,loadInviteMember:N,loadMessagePopup:P,loadModelEmbedPopup:v,loadModelLikesPopup:R,loadModelPagePopup:j,loadModelTransferPopup:W,loadProjectAddMembersPopup:Q,loadProjectAddMembersPopupV2:H,loadProjectInvitePopup:z,loadRemoveFromProject:x,loadRemoveMember:F,loadResetPassword:_,loadResetPasswordPlugin:T,loadShareAfterPublishPopup:I,loadSharePopup:D,loadSsoEmailPopup:Z,loadUploadPopup:b,loadVisibilityPopup:B,openAddToCollectionPopup:ye,openCartLimitReachedPopup:me,openDownloadPopup:Ee,openMaintenancePopup:he,openMessagePopup:ge,loadContactPopup:ie,loadEgTermsPopup:le,openEgTermsPopup:fe,loadEgStorePolicyPopup:Oe,loadBulkModelTransferPopup:$,loadBulkModelEditPopup:J,loadBulkModelDeletePopup:K,loadDetailedTopMetricPopup:Pe,loadContactUserPopup:be,loadDeleteMaterialPopup:de,loadCancelPlanPopup:ve,loadDeleteAccountPopup:we,loadPlanSubscribePopup:ue,loadChangeLicensePopup:V,loadDisconnectAuthPopup:pe}},"+zma":(e,t,r)=>{"use strict";r.d(t,{Nw:()=>ve,n2:()=>Fe,wl:()=>be,V5:()=>Oe});var i=r("45Yh"),n=r("U+um"),o=r("gLJN"),s=r("h9M4"),a=r("NQ1V"),c=r("4fae"),l=r("hrlB"),d=r("HGbS"),u=r("7Uq8"),p=r("MBtD"),f=r("RyS8"),h=r("lrhy"),g=r("Oyie");function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const E="skfb-cart";let O;!function(e){e.GET="cart.GET",e.ADD_MODEL="cart.ADD_MODEL",e.REMOVE_MODEL="cart.REMOVE_MODEL",e.CLEAR="cart.CLEAR",e.CHANGE_CHECKOUT_STEP_INDEX="cart.CHANGE_CHECKOUT_STEP_INDEX"}(O||(O={}));const P=(0,d.Ac)((0,p.Lq)({models:[],optimistic:{},currentCheckoutStateIndex:-1},{[O.GET]:(e,t)=>t.effect.caseOf({Pending:()=>e,Rejected:()=>e,Resolved:({result:t})=>m(m({},e),{},{models:t})}),[O.ADD_MODEL]:(e,t)=>t.effect.caseOf({Pending:()=>m(m({},e),{},{models:e.models.concat(t.modelUid)}),Rejected:()=>e,Resolved:({result:t})=>m(m({},e),{},{models:t})}),[O.REMOVE_MODEL]:(e,t)=>t.effect.caseOf({Pending:()=>m(m({},e),{},{models:e.models.filter((e=>e!==t.modelUid))}),Rejected:()=>e,Resolved:({result:t})=>m(m({},e),{},{models:t})}),[O.CLEAR]:(e,t)=>t.effect.caseOf({Pending:()=>m(m({},e),{},{models:[]}),Rejected:()=>e,Resolved:()=>e}),[O.CHANGE_CHECKOUT_STEP_INDEX]:(e,t)=>m(m({},e),{},{currentCheckoutStateIndex:t.stepIndex})})),b={isModelInCart:(e,t)=>t.cart.models.includes(e),models:e=>(0,c.cY)(e.cart.models,[u.o4],e.entities),modelUids:e=>e.cart.models,currentCheckoutStateIndex:e=>e.cart.currentCheckoutStateIndex},v=async(e,t)=>{const{results:r}=await t.addModelsToCart(e);return r},w=async(e,t)=>{const{results:r}=await t.removeModelsFromCart(e);return r},S=e=>e.getJSON(E).then((e=>e||[])).catch((()=>[])),R=async e=>(e.setJSON(E,[]),[]),A={get:()=>h.iB((e=>e((0,d.GZ)({type:O.GET,payload:{effect:async({Api:e,LocalStorage:t,getState:r})=>{const i=await S(t),n=o.wl.isAuthenticated(r())?await e.getCart().then((({results:r})=>(async(e,t,r,i)=>{if(t.length){if(e.length){await w(t.map((e=>e.uid)),r);const n=await v(e.map((e=>e.uid)),r);return await R(i),n}return t}if(e.length){const t=await v(e.map((e=>e.uid)),r);return await R(i),t}return[]})(i,r,e,t))):i;return(0,c.Fv)(n,[u.o4])}}})))),addModel:e=>(t,r)=>{const i=r(),n=b.isModelInCart(e.uid,i),s=b.models(i);return n?g.resolve((0,c.Fv)(s,[u.o4])):t((0,d.GZ)({type:O.ADD_MODEL,payload:{modelUid:e.uid,entities:(0,c.Fv)(e,u.o4).entities,effect:async({Api:t,LocalStorage:r})=>{if(s.length+1>l.Z.storeCartMaxSize)throw new f.vd;const n=o.wl.isAuthenticated(i)?await v([e.uid],t):await(async(e,t)=>{const r=await S(t),i=[...r,...e.filter((e=>r.every((t=>t.uid!==e.uid))))];return t.setJSON(E,i),i})([e],r);return(0,c.Fv)(n,[u.o4])}}}))},removeModel:e=>(t,r)=>{const i=r(),n=b.isModelInCart(e.uid,i),s=b.models(i);return n?t((0,d.GZ)({type:O.REMOVE_MODEL,payload:{modelUid:e.uid,entities:(0,c.Fv)(e,u.o4).entities,effect:async({Api:t,LocalStorage:r})=>{const n=o.wl.isAuthenticated(i)?await w([e.uid],t):await(async(e,t)=>{const r=(await S(t)).filter((t=>e.every((e=>t.uid!==e))));return t.setJSON(E,r),r})([e.uid],r);return(0,c.Fv)(n,[u.o4])}}})):g.resolve((0,c.Fv)(s,[u.o4]))},clear:()=>(e,t)=>{const r=t();return e((0,d.GZ)({type:O.CLEAR,payload:{effect:async({Api:e,LocalStorage:t})=>{o.wl.isAuthenticated(r)?await w(b.modelUids(r),e):await R(t)}}}))},changeStep:e=>({type:O.CHANGE_CHECKOUT_STEP_INDEX,payload:{stepIndex:e}})};function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}let I;I||(I={});const D={},j={effect:(e,t)=>t.effects[e.ORIGINAL]||{},isPending:(e,t)=>j.effect(e,t).status===d.dB.Pending,isResolved:(e,t)=>j.effect(e,t).status===d.dB.Resolved,isRejected:(e,t)=>j.effect(e,t).status===d.dB.Rejected};var L=r("tNHJ"),C=r("EDOU"),Z=r("4FSB"),U=r("MHQn"),N=r("JBVY"),M=r("iu9k");function F(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?F(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}let k;!function(e){e.INIT_CLIENT="search.INIT_CLIENT",e.UPDATE_QUERY="search.UPDATE_QUERY",e.UPDATE_TYPE="search.UPDATE_TYPE",e.UPDATE_IS_CURRENT_ROUTE="search.UPDATE_IS_CURRENT_ROUTE",e.OPEN="search.OPEN",e.BACK="search.BACK",e.CLOSE="search.CLOSE"}(k||(k={}));const G=(0,p.Lq)({isOpen:!1,isCurrentRoute:!1,query:"",type:"models",previousLocation:""},{[k.INIT_CLIENT]:(e,t)=>t.effect.caseOf({Pending:()=>e,Rejected:()=>e,Resolved:t=>x(x({},e),t)}),[k.UPDATE_QUERY]:(e,t)=>x(x({},e),{},{query:t.query}),[k.UPDATE_TYPE]:(e,t)=>x(x({},e),{},{type:t.type}),[k.UPDATE_IS_CURRENT_ROUTE]:(e,t)=>x(x({},e),{},{isCurrentRoute:t.isCurrentRoute}),[k.OPEN]:(e,t)=>t.effect.caseOf({Pending:()=>x(x({},e),{},{isOpen:!0}),Rejected:()=>e,Resolved:t=>x(x({},e),{},{previousLocation:t})}),[k.BACK]:(e,t)=>t.effect.caseOf({Pending:()=>e,Rejected:()=>e,Resolved:()=>x(x({},e),{},{isOpen:!1})}),[k.CLOSE]:e=>x(x({},e),{},{isOpen:!1})}),V={query:e=>e.search.query,type:e=>e.search.type,isOpen:e=>e.search.isOpen,isCurrentRoute:e=>e.search.isCurrentRoute,previousLocation:e=>e.search.previousLocation||{models:"/models/popular",users:"/members",collections:"/collections"}[V.type(e)]},B={initClient:()=>({type:k.INIT_CLIENT,payload:{effect:function(){return{isOpen:!!(0,M.EQ)("search:search",window.location.pathname),query:N.ZP.string("q",""),type:N.ZP.string("type","models")}}}}),updateQuery:e=>({type:k.UPDATE_QUERY,payload:{query:e}}),updateType:e=>({type:k.UPDATE_TYPE,payload:{type:e}}),updateIsCurrentRoute:e=>({type:k.UPDATE_IS_CURRENT_ROUTE,payload:{isCurrentRoute:e}}),open:()=>(e,t)=>{if(V.isOpen(t()))return;const r=(0,d.GZ)({type:k.OPEN,payload:{effect:({isServer:e,History:t})=>{if(e)return"";const r=(0,M.EQ)("search:search",window.location.pathname)?"":window.location.pathname;return t.push((0,M.HQ)("search:search")),r}}});return e(r)},back:()=>(e,t)=>{if(!V.isOpen(t()))return;const r=(0,d.GZ)({type:k.BACK,payload:{effect:({History:e})=>e.push(V.previousLocation(t()),{shouldPreventModelPopup:!0})}});return e(r)},close:()=>({type:k.CLOSE,payload:void 0})};var Y=r("WA+4");class q{constructor(e){this.value=e,(0,a.Z)(this,"tag","Left")}map(e){return new q(this.value)}mapLeft(e){return new q(e(this.value))}caseOf(e){return e.Left(this.value)}reduce(e,t){return t}chain(e){return new q(this.value)}}class Q{constructor(e){this.value=e,(0,a.Z)(this,"tag","Right")}map(e){return new Q(e(this.value))}mapLeft(e){return new Q(this.value)}caseOf(e){return e.Right(this.value)}reduce(e,t){return e(t,this.value)}chain(e){return e(this.value)}}const H=e=>new Q(e);var X=r("xovo"),z=r("LLYa"),W=r("Z7/R"),$=r("Oyie");function J(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function K(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?J(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const ee=e=>({PENDING:X.JD.PENDING,FAILED:X.JD.FAILED,SUCCEEDED:X.JD.SUCCEEDED,PROCESSING:X.JD.PROCESSING}[e]);let te;!function(e){e.DELETE="models.DELETE",e.UPDATE="models.UPDATE",e.PUBLISH="models.PUBLISH",e.TRY_PUBLISH="models.TRY_PUBLISH",e.GET_VERSIONS="models.GET_VERSIONS",e.POLL_VERSIONS="models.POLL_VERSIONS",e.POLL_PROCESSING_STATUS="models.POLL_PROCESSING_STATUS",e.POLL_EXTRA_FILE_PROCESSING_STATUS="models.POLL_EXTRA_FILE_PROCESSING_STATUS",e.REMOVE_EXTRA_FILE="models.REMOVE_EXTRA_FILE",e.UPDATE_EXTRA_FILE="models.UPDATE_EXTRA_FILE",e.UPDATE_EXTRA_FILE_UPLOAD_STATE="models.UPDATE_EXTRA_FILE_UPLOAD_STATE",e.REPROCESS="models.REPROCESS",e.GET_MANAGEMENT="models.GET_MANAGEMENT"}(te||(te={}));const re=(0,p.Lq)({extraFileUploads:{}},{[te.UPDATE_EXTRA_FILE_UPLOAD_STATE]:(e,{uid:t,uploadState:r})=>K(K({},e),{},{extraFileUploads:K(K({},e.extraFileUploads),{},{[t]:r})})}),ie={update:(e,t)=>(0,d.GZ)({type:te.UPDATE,payload:{effect:async function({Api:r,Prefetching:i,getState:n,dispatch:a}){const l=s.wl.model(e,n());if(!(0,Y.w)(l,"visibility"))throw new Error("You must provide the visibility of the model in order to change it.");const d=K(K({},l),t);if(!(0,z.qS)(l,d,o.wl.user(n())))throw new Error("Publish limit exceeded");const p=await r.patchModel(e,t),f=(0,z.a8)(l,d);f&&a(o.Nw.updatePublishCredits((e=>e+f)));const{entities:h,result:g}=(0,c.Fv)(p,u.o4);return await a(s.Nw.update({models:[p]})),l.visibility!==d.visibility&&i.invalidateAllMatchRegExp(new RegExp(`^/i/models/${l.uid}/sharing`)),{entities:h,result:g}}}}),orgUpdate:(e,t,r,i)=>(0,d.GZ)({type:te.UPDATE,payload:{effect:async function({Api:n,Prefetching:o,dispatch:a}){const l=r?await n.patchBulkModel(e,r,t):await n.patchModel(e,t),{entities:d,result:p}=(0,c.Fv)(l,u.o4);return await a(s.Nw.update({models:[l]})),i&&o.invalidateAllMatchRegExp(new RegExp(`^/i/models/${e}/sharing`)),{entities:d,result:p}}}}),tryPublish:(e,t)=>(0,d.GZ)({type:te.TRY_PUBLISH,payload:{effect:async({dispatch:r,getState:i,Popups:n})=>{const a=o.wl.user(i()),c=s.wl.model(e,i());if(!(0,Y.w)(c,"visibility"))throw new Error("You must provide the visibility of the model in order to change it.");if(!a.isStaff&&!c.org&&a.uid!==c.user.uid)throw new Error("User doesn't own the model");if(a.isLimited){return(new(await n.loadEmailConfirmationPopup())).open().then((()=>{return e=new f.p9("User needs to confirm their email"),new q(e);var e}))}const l=K(K(K({},c),t),{},{isPublished:!0});if(!(0,z.qS)(c,l,a))throw new Error("Publish limit exceeded");const[d]=await $.all([n.loadShareAfterPublishPopup(),r(ie.update(e,K(K({},t),{},{isPublished:!0})))]);return new d({asset:c,assetType:"model",hasUsedAViewOnlyCredit:(0,z.wo)(c,l)}).open(),H(void 0)}}}),getVersions:(e,t=!0)=>(0,d.GZ)({type:te.GET_VERSIONS,payload:{effect:async function({Api:r}){const{results:i}=await r.getModelVersions(e,{allowPrefetching:t});return{versions:i,entities:{models:{[e]:{versions:i}}}}}}}),pollVersions:e=>(0,d.GZ)({type:te.POLL_VERSIONS,payload:{effect:function({dispatch:t,Http:r}){return r.retry(1/0,(()=>t(ie.getVersions(e,!1)).then((({versions:e})=>{if(!e.length||e.some((e=>(0,z.v8)(e)||(0,z.pr)(e))))throw new f.Ms;return{versions:e}}))),{interval:2e3},"pollVersions").then((({versions:t})=>{const r=(0,z.mH)(t).caseOf({None:()=>{throw new Error(`Model ${e} has no version`)},Some:e=>e.status});return{status:r,entities:{models:{[e]:{status:r,processingStatus:ee(r.processing),versions:t}}},versions:t}}))}}}),pollExtraFileProcessingStatus:e=>(0,d.GZ)({type:te.POLL_EXTRA_FILE_PROCESSING_STATUS,payload:{entities:{models:{[e]:{management:e=>K(K({},e),{},{extraFile:e.extraFile?K(K({},e.extraFile),{},{status:"pending"}):null})}}},effect:function({Api:t}){return t.pollModelExtraFileProcessingStatus(e).then((t=>({management:t,entities:{models:{[e]:{management:t}}}})))}}}),reprocess:(e,t=!1)=>(0,d.GZ)({type:te.REPROCESS,payload:{entities:{models:{[e]:{management:e=>K(K({},e),{},{hasStats:!1})}}},effect:function({Api:r,dispatch:i,getState:n}){return h.k3.fromPromise(r.reprocessModel(e,t)).then((()=>i(ie.pollVersions(e)))).then((({status:t})=>{switch(t.processing){case"SUCCEEDED":{const t=s.wl.model(e,n());return{entities:{models:{[e]:{management:t.management?K(K({},t.management),{},{hasStats:!0}):void 0}}}}}case"FAILED":throw new Error("Reprocess failed");default:return{}}}))}}}),getManagement:(e,t=!1)=>(0,d.GZ)({type:te.GET_MANAGEMENT,payload:{effect:async function({Api:r}){const i=await r.getModelManagement(e,{allowPrefetching:t});return{entities:{models:{[e]:{management:i}}}}}}}),updateExtraFileUploadState:(e,t)=>({type:te.UPDATE_EXTRA_FILE_UPLOAD_STATE,payload:{uid:e,uploadState:t}}),removeExtraFile:e=>(0,d.GZ)({type:te.REMOVE_EXTRA_FILE,payload:{entities:{models:{[e]:{management:e=>K(K({},e),{},{extraFile:null})}}},effect:function({Api:t}){return t.removeModelExtraArchive(e)}}}),updateExtraFile:(e,t)=>(0,d.GZ)({type:te.UPDATE_EXTRA_FILE,payload:{effect:async function({Api:r,dispatch:i}){await r.updateModelExtraArchive(e,t,(t=>{i(ie.updateExtraFileUploadState(e,{type:"uploading",total:t.total,loaded:t.loaded}))})),i(ie.updateExtraFileUploadState(e,{type:"idle"}));const n=await r.getModelManagement(e,{allowPrefetching:!1});return{entities:{models:{[e]:{management:n}}}}}}}),deleteModel:e=>(0,d.GZ)({type:te.DELETE,payload:{effect:async function({Api:t,Prefetching:r,getState:i}){await t.deleteModel(e);const n=s.wl.model(e,i());let o={};if(n.org&&n.orgProject){const e=s.wl.org(n.org.uid,i()),t=s.wl.orgProject(n.orgProject.uid,i());o={orgProjects:{[t.uid]:{modelCount:t.modelCount-1}},orgs:{[e.uid]:{modelCount:e.modelCount-1}}},r.invalidateAllMatchRegExp(W.z.org(e.displayName)),r.invalidateAllMatchRegExp(W.z.project(e.uid,t.uid))}return{entities:o}}}})};var ne=r("Oyie");function oe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function se(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}let ae;!function(e){e.UPDATE_AVATAR="orgs.UPDATE_AVATAR",e.UPDATE="orgs.UPDATE",e.ADD_MEMBER="orgs.ADD_MEMBER",e.UPDATE_MEMBER="orgs.UPDATE_MEMBER",e.ACTIVATE_MEMBER="orgs.ACTIVATE_MEMBER",e.DEACTIVATE_MEMBER="orgs.DEACTIVATE_MEMBER",e.UPDATE_MEMBER_PROJECTS="orgs.UPDATE_MEMBER_PROJECTS",e.REMOVE_FROM_PROJECT="orgs.REMOVE_FROM_PROJECT",e.DELETE_MEMBER="orgs.DELETE_MEMBER",e.SEND_INVITATIONS="orgs.SEND_INVITATIONS",e.ACCEPT_INVITATION="orgs.ACCEPT_INVITATION",e.REQUEST_SEATS="orgs.REQUEST_SEATS",e.CREATE_PROJECT="org.CREATE_PROJECT",e.ADD_PROJECT_MEMBERS="orgs.ADD_PROJECT_MEMBERS",e.UPDATE_PROJECT="org.UPDATE_PROJECT",e.DELETE_PROJECT="org.DELETE_PROJECT",e.INVALIDATE_ES_CACHE="orgs.INVALIDATE_ES_CACHE"}(ae||(ae={}));const ce={},le={updateAvatar:(e,t)=>(0,d.GZ)({type:ae.UPDATE_AVATAR,payload:{effect:async function({Api:r}){const{uid:i}=await r.updateOrgAvatar(e,t),n=await r.pollAvatars(i);return{entities:{orgs:{[e]:{avatars:n}}}}}}}),update:(e,t)=>(0,d.GZ)({type:ae.UPDATE,payload:{effect:async function({Api:r,Prefetching:i}){const n=await r.updateOrg(e,t);return i.register(`/i/users/me/orgs/@${n.username}`,n),i.invalidate("/i/users/me/memberships"),(0,c.Fv)(n,u.gW)}}}),addMembers:(e,t)=>(0,d.GZ)({type:ae.ADD_MEMBER,payload:{effect:async function({Api:r,Prefetching:i,getState:n,dispatch:o}){const a=await r.addOrgMember(e,t),l=a.map((e=>e.uid));await o(le.sendInvites(e,l)),i.invalidateAllMatchRegExp(W.z.membersList(e));const d=s.wl.org(e,n());return i.invalidateAllMatchRegExp(W.z.org(d.displayName)),se({newMembersUid:l},(0,c.Fv)(se(se({},d),{},{seatCount:d.seatCount+a.length}),u.gW))}}}),updateMember:(e,t,r)=>(0,d.GZ)({type:ae.UPDATE_MEMBER,payload:{effect:async function({Api:i}){const n=await i.updateOrgMember(e,t,r);return(0,c.Fv)(n,u.JA)}}}),deactivateMember:(e,t)=>(0,d.GZ)({type:ae.DEACTIVATE_MEMBER,payload:{effect:async function({getState:r,dispatch:i}){await i(le.updateMember(e,t,{status:"inactive"}));const n=s.wl.org(e,r());return(0,c.Fv)(se(se({},n),{},{seatCount:n.seatCount-1}),u.gW)}}}),deleteMember:(e,t)=>(0,d.GZ)({type:ae.DELETE_MEMBER,payload:{effect:async function({Api:r,Prefetching:i,getState:n}){await r.deleteOrgMember(e,t),i.invalidateAllMatchRegExp(W.z.membersList(e));const o=s.wl.org(e,n());return i.invalidateAllMatchRegExp(W.z.org(o.displayName)),(0,c.Fv)(se(se({},o),{},{seatCount:o.seatCount-1}),u.gW)}}}),updateMemberProjects:(e,t,r)=>(0,d.GZ)({type:ae.UPDATE_MEMBER_PROJECTS,payload:{effect:async function({Api:i,Prefetching:n}){await i.updateOrgMemberProjects(e,t,r),n.invalidateAllMatchRegExp(W.z.membersList(e)),"all"===r.selectionType||"none"===r.selectionType?n.invalidateAllMatchRegExp(W.z.projectList(e)):"selected"===r.selectionType&&Object.keys(r.projects).forEach((t=>n.invalidateAllMatchRegExp(W.z.project(e,t))))}}}),removeFromProject:(e,t,r)=>(0,d.GZ)({type:ae.REMOVE_FROM_PROJECT,payload:{effect:async function({Api:i,Prefetching:n,getState:o}){const a=s.wl.orgProject(t,o()),l=r.allMembers?[]:a.latestMembers.filter((e=>!r.members.includes(e.uid)));return await i.removeFromProject(e,t,r),n.invalidateAllMatchRegExp(W.z.membersList(e)),n.invalidateAllMatchRegExp(W.z.project(e,t)),(0,c.Fv)(se(se({},a),{},{memberCount:a.memberCount-1,latestMembers:l}),u.wA)}}}),sendInvites:(e,t)=>(0,d.GZ)({type:ae.SEND_INVITATIONS,payload:{effect:async function({Api:r}){await r.sendOrgInvite(e,t)}}}),acceptInvite:(e,t)=>(0,d.GZ)({type:ae.ACCEPT_INVITATION,payload:{effect:async function({Api:r}){await r.acceptOrgInvite(e,t)}}}),requestSeats:(e,t)=>(0,d.GZ)({type:ae.REQUEST_SEATS,payload:{effect:async function({Api:r}){await r.requestOrgSeats(e,t)}}}),createProject:(e,t,r)=>(0,d.GZ)({type:ae.CREATE_PROJECT,payload:{effect:async function({Api:i}){const n=await i.createProject(e,t,r);return se({project:n},(0,c.Fv)(n,u.wA))}}}),addProjectMembers:(e,t,r)=>(0,d.GZ)({type:ae.ADD_PROJECT_MEMBERS,payload:{effect:async function({Api:i,Prefetching:n}){const o=await i.addProjectMembers(e,t,r);return n.invalidateAllMatchRegExp(W.z.membersList(e)),n.invalidateAllMatchRegExp(W.z.project(e,t)),se({project:o},(0,c.Fv)(o,u.wA))}}}),updateProject:(e,t,r)=>(0,d.GZ)({type:ae.UPDATE_PROJECT,payload:{effect:async function({Api:i,Prefetching:n}){const o=await i.updateProject(e,t,r);return n.invalidateAllMatchRegExp(/^\/i\/orgs\/\w*\/projects.*/),(0,c.Fv)(o,u.wA)}}}),deleteProject:(e,t)=>(0,d.GZ)({type:ae.DELETE_PROJECT,payload:{effect:async function({Api:r,Prefetching:i}){await r.deleteProject(e,t),i.invalidateAllMatchRegExp(/^\/i\/orgs\/\w*\/projects.*/)}}}),invalidateESCache:e=>(0,d.GZ)({type:ae.INVALIDATE_ES_CACHE,payload:{effect:async function({Prefetching:t}){await new ne((e=>setTimeout(e,1e4))),await t.invalidateAllMatchRegExp(e)}}})};var de=r("6R7t"),ue=r("MndH"),pe=r("1nxQ"),fe=r("Oyie");function he(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function ge(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?he(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):he(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}let ye;!function(e){e.DELETE="materials.DELETE",e.UPDATE="materials.UPDATE",e.TRY_PUBLISH="materials.TRY_PUBLISH"}(ye||(ye={}));const me={},Ee={update:(e,t,r=!1)=>(0,d.GZ)({type:ye.UPDATE,payload:{effect:async function({Api:i,Prefetching:n,dispatch:o}){const a=r?ge({uid:e},(0,ue.Z)(t,"license")):await i.patchMaterial(e,t);n.invalidateAllMatchRegExp(new RegExp(`^/i/materials/${e}.*`));const{entities:l,result:d}=(0,c.Fv)(a,u.GX);return await o(s.Nw.update({materials:[a]})),{entities:l,result:d}}}}),tryPublish:(e,t)=>(0,d.GZ)({type:ye.TRY_PUBLISH,payload:{effect:async function({Api:r,Popups:i,getState:n,dispatch:o}){const a=s.wl.material(e,n()),c=ge({uid:e},(0,ue.Z)(t,"license")),[l]=await fe.all([i.loadShareAfterPublishPopup(),await r.patchMaterial(e,ge(ge({},t),{},{isPublished:!0}))]);return new l({asset:ge(ge({},a),{},{slug:(0,pe.lV)(a.name),viewerUrl:a.viewerPath}),assetType:"material",hasUsedAViewOnlyCredit:!1}).open(),await o(s.Nw.update({materials:[c]})),H(void 0)}}}),delete:e=>(0,d.GZ)({type:ye.DELETE,payload:{effect:function({Api:t}){return t.deleteMaterial(e)}}})},Oe={authUser:o.V5,entities:s.V5,cart:O,effects:I,storeSearch:L.V5,orgSearch:C.V5,orgProjectSearch:Z.V5,search:k,models:te,orgs:ae,messages:de.V5,materials:ye},Pe=(0,n.UY)({authUser:o.I6,entities:s.I6,cart:P,effects:(e=D,t)=>(0,d.cd)(t)?T(T({},e),{},{[t.type]:{status:t.payload.effect.type}}):e,storeSearch:L.I6,orgSearch:C.I6,orgProjectSearch:Z.I6,orgGlobalSearch:U.I6,search:G,models:re,orgs:(e=ce)=>e,messages:de.I6,materials:(e=me)=>e}),be={authUser:o.wl,entities:s.wl,cart:b,effects:j,storeSearch:L.wl,orgSearch:C.wl,orgProjectSearch:Z.wl,orgGlobalSearch:U.wl,search:V,models:{extraFileUpload:(e,t)=>t.models.extraFileUploads[e]||{type:"idle"}},orgs:{},messages:de.wl,materials:{}},ve={authUser:o.Nw,entities:s.Nw,cart:A,effects:{},storeSearch:L.Nw,orgSearch:C.Nw,orgProjectSearch:Z.Nw,orgGlobalSearch:U.Nw,search:B,models:ie,orgs:le,messages:de.Nw,materials:Ee};var we=r("sQwH"),Se=(r("3Z9q"),r("VDcQ")),Re=r("jQKg"),Ae=r("3O9e"),_e=r("fBod"),Te=r("TxBr"),Ie=r("cSHm"),De=r("5hHH");const je={sentry:r("/c5M").Z};var Le=r("Yxa5"),Ce=r("vb8h");function Ze(e,t){const r=[Ce.Z,(0,d.OF)(t)],i=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||n.qC;return(0,n.MT)(Pe,e,i((0,n.md)(...r)))}let{store:Ue,services:Ne,StateProvider:Me}=(0,i.sk)()?((e,t=((e,t)=>{const r=(0,Ie.go)(e),i=(0,Le.r)(r);return{isServer:!0,Api:(0,Re.L)(i),Http:i,CookieBag:{get:(e,r)=>t[e]||r,set:()=>{},remove:()=>{}},Prefetching:r}})({},{}))=>{const r=Ze(e,t);return{services:t,store:r,StateProvider:({children:e})=>(0,we.Z)(d.N1.Provider,{value:t},void 0,(0,we.Z)(Se.zt,{store:r},void 0,e))}})():((e=Ie.ZP.get("initialState"))=>{const t={isServer:!1,Api:Re.Z,Http:Le.Z,LocalStorage:Ae,CookieBag:Te.ZP,Prefetching:Ie.ZP,History:De.Z,Popups:_e,Trackers:je},r=Ze(e,t);Object.values(ve).forEach((e=>{e.initClient&&r.dispatch(e.initClient())})),window.__getState=()=>r.getState();return{services:t,store:r,StateProvider:({children:e})=>(0,we.Z)(d.N1.Provider,{value:t},void 0,(0,we.Z)(Se.zt,{store:r},void 0,e))}})();(0,i.sk)()&&(global.__setStore=e=>{Ue=e},global.__setStateProvider=e=>{Me=e});const Fe={get Provider(){return Me},get store(){return Ue},get services(){return Ne}}},HGbS:(e,t,r)=>{"use strict";r.d(t,{N1:()=>y,dB:()=>a,JR:()=>c,WR:()=>l,Kv:()=>d,GZ:()=>v,OF:()=>g,cd:()=>b,Ac:()=>A});var i=r("3MRe"),n=r("NQ1V"),o=r("AyNe"),s=r("lrhy");let a;!function(e){e.Pending="Pending",e.Resolved="Resolved",e.Rejected="Rejected"}(a||(a={}));class c{constructor(){(0,n.Z)(this,"type",a.Pending),(0,n.Z)(this,"caseOf",(e=>e.Pending())),(0,n.Z)(this,"map",(function(){return this}))}}class l{constructor(e){this.value=e,(0,n.Z)(this,"type",a.Rejected),(0,n.Z)(this,"caseOf",(function(e){return e.Rejected(this.value)})),(0,n.Z)(this,"map",(function(){return this}))}}class d{constructor(e){this.value=e,(0,n.Z)(this,"type",a.Resolved),(0,n.Z)(this,"caseOf",(function(e){return e.Resolved(this.value)})),(0,n.Z)(this,"map",(function(e){return new d(e(this.value))}))}}var u=r("Oyie");const p=["effect"];function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const g=e=>({getState:t,dispatch:r})=>{const n=h({getState:t,dispatch:r},e);return e=>t=>{if(!t.payload||"function"!=typeof t.payload.effect)return e(t);const a=t.payload,{effect:f}=a,g=(0,i.Z)(a,p),y={isEffect:!0,effectId:(0,o.Z)()},m=e=>{r({type:t.type,payload:h(h({},g),{},{effect:new l(e)}),meta:y}),console.error("Effect error:",e)},E=e=>{r({type:t.type,payload:h(h({},g),{},{effect:new d(e)}),meta:y})};r({type:t.type,payload:h(h({},g),{},{effect:new c}),meta:y});try{const e=f(n);return(0,s.tI)(e)?e.catch((e=>{throw m(e),e})).then((e=>(E(e),e))):(E(e),u.resolve(e))}catch(e){return m(e),u.reject(e)}}};const y=r("3Z9q").createContext({});var m=r("MndH"),E=r("zIYZ");function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const b=e=>e&&e.meta&&e.meta.isEffect;function v(e){return P(P({},e),{},{payload:P(P({},e.payload),{},{effect:(t=e.payload.effect,r=e.type,e=>{if(e.isServer)throw new Error(`${r} should never be called on the server. Something must be wrong`);return t(e)})})});var t,r}function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const R=(0,E.cM)(1/0),A=e=>(t,r)=>b(r)?r.payload.effect.caseOf({Pending:()=>((t,r)=>{const i=e(t,r);if(i===t)return t;const n=(0,E.Hg)(i,t);return S(S({},i),{},{optimistic:{[r.meta.effectId]:n}})})(t,r),Rejected:()=>((t,r)=>{const i=e(t,r);return i.optimistic[r.meta.effectId]?S(S({},R(i,i.optimistic[r.meta.effectId])),{},{optimistic:(0,m.Z)(i.optimistic,[r.meta.effectId])}):i})(t,r),Resolved:()=>((t,r)=>{const i=e(t,r);return i.optimistic[r.meta.effectId]?S(S({},i),{},{optimistic:(0,m.Z)(i.optimistic,[r.meta.effectId])}):i})(t,r)}):e(t,r)},gLJN:(e,t,r)=>{"use strict";r.d(t,{I6:()=>w,Nw:()=>D,V5:()=>v,wl:()=>S});var i=r("3MRe"),n=r("NQ1V"),o=r("p7Vz"),s=r("8nmZ"),a=r("4fae"),c=r("hrlB"),l=r("HGbS"),d=r("7Uq8"),u=r("MBtD"),p=r("Vnou"),f=r("RyS8"),h=r("g/7r"),g=r("hDfq"),y=r("iu9k"),m=r("6R7t"),E=r("jQKg");const O=["entities"];function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}let v;!function(e){e.INIT_CLIENT="authUser.INIT_CLIENT",e.SET_ALLOWS_RESTRICTED="authUser.SET_ALLOWS_RESTRICTED",e.GET_FROM_PREFETCHED="authUser.GET_FROM_PREFETCHED",e.GET="authUser.GET",e.AUTHENTICATE="authUser.AUTHENTICATE",e.CONFIRM_EMAIL="authUser.CONFIRM_EMAIL",e.LOGOUT="authUser.LOGOUT",e.SIGNUP="authUser.SIGNUP",e.LOGIN="authUser.LOGIN",e.LIKE_MODEL="authUser.LIKE_MODEL",e.UNLIKE_MODEL="authUser.UNLIKE_MODEL",e.GET_LIKES="authUser.GET_LIKES",e.GET_PURCHASES="authUser.GET_PURCHASES",e.GET_SUBSCRIPTIONS="authUser.GET_SUBSCRIPTIONS",e.SUBSCRIBE="authUser.SUBSCRIBE",e.UNSUBSCRIBE="authUser.UNSUBSCRIBE",e.GET_FOLLOWINGS="authUser.GET_FOLLOWINGS",e.FOLLOW="authUser.FOLLOW",e.UNFOLLOW="authUser.UNFOLLOW",e.GET_UPVOTES="authUser.GET_UPVOTES",e.UPVOTE_REVIEW="authUser.UPVOTE_REVIEW",e.DOWNVOTE_REVIEW="authUser.DOWNVOTE_REVIEW",e.CAN_REVIEW_MODEL="authUser.CAN_REVIEW_MODEL",e.UPDATE_AVATAR="authUser.UPDATE_AVATAR",e.UPDATE_PUBLISH_CREDITS="authUser.UPDATE_PUBLISH_CREDITS",e.GET_IS_SELLER="authUser.GET_IS_SELLER",e.ADD_MEMBERSHIP="authUser.ADD_MEMBERSHIP",e.CONFIRM_CODE="authUser.CONFIRM_CODE",e.UPDATE="authUser.UPDATE"}(v||(v={}));const w=(0,l.Ac)((0,u.Lq)({uid:null,likes:{},purchases:{},followings:{},subscriptions:{},upvotes:{},reviewableModels:{},memberships:{},allowsRestricted:!1,isSeller:!1,optimistic:{}},{[v.INIT_CLIENT]:(e,t)=>t.effect.caseOf({Pending:()=>e,Rejected:()=>e,Resolved:t=>b(b({},e),t)}),[v.SET_ALLOWS_RESTRICTED]:(e,t)=>t.effect.caseOf({Pending:()=>e,Rejected:()=>e,Resolved:()=>b(b({},e),{},{allowsRestricted:t.allowsRestricted})}),[v.GET_FROM_PREFETCHED]:(e,t)=>t.effect.caseOf({Pending:()=>e,Rejected:()=>e,Resolved:({allowsRestricted:t,result:r})=>b(b({},e),{},{uid:r,allowsRestricted:t})}),[v.GET]:(e,t)=>t.effect.caseOf({Pending:()=>e,Rejected:()=>e,Resolved:({allowsRestricted:t,result:r})=>b(b({},e),{},{uid:r,allowsRestricted:t})}),[v.AUTHENTICATE]:e=>e,[v.LOGOUT]:(e,t)=>t.effect.caseOf({Pending:()=>e,Rejected:()=>e,Resolved:t=>{let{entities:r}=t,n=(0,i.Z)(t,O);return b(b(b({},e),{},{uid:"anonymous"},n),{},{isSeller:!1})}}),[v.SIGNUP]:(e,t)=>t.effect.caseOf({Pending:()=>e,Rejected:()=>e,Resolved:({result:t})=>b(b({},e),{},{uid:t})}),[v.LOGIN]:(e,t)=>t.effect.caseOf({Pending:()=>e,Rejected:()=>e,Resolved:({result:t,allowsRestricted:r})=>b(b({},e),{},{uid:t,allowsRestricted:r})}),[v.GET_LIKES]:(e,t)=>t.effect.caseOf({Pending:()=>e,Rejected:()=>e,Resolved:t=>b(b({},e),{},{likes:b(b({},e.likes),t)})}),[v.GET_PURCHASES]:(e,t)=>t.effect.caseOf({Pending:()=>e,Rejected:()=>e,Resolved:t=>b(b({},e),{},{purchases:b(b({},e.purchases),t)})}),[v.GET_SUBSCRIPTIONS]:(e,t)=>t.effect.caseOf({Pending:()=>e,Rejected:()=>e,Resolved:t=>b(b({},e),{},{subscriptions:b(b({},e.subscriptions),t)})}),[v.GET_FOLLOWINGS]:(e,t)=>t.effect.caseOf({Pending:()=>e,Rejected:()=>e,Resolved:t=>b(b({},e),{},{followings:b(b({},e.followings),t)})}),[v.GET_UPVOTES]:(e,t)=>t.effect.caseOf({Pending:()=>e,Rejected:()=>e,Resolved:t=>b(b({},e),{},{upvotes:b(b({},e.upvotes),t)})}),[v.LIKE_MODEL]:(e,t)=>t.effect.caseOf({Pending:()=>e,Rejected:()=>e,Resolved:()=>b(b({},e),{},{likes:b(b({},e.likes),{},{[t.modelUid]:!0})})}),[v.UNLIKE_MODEL]:(e,t)=>t.effect.caseOf({Pending:()=>b(b({},e),{},{likes:b(b({},e.likes),{},{[t.modelUid]:!1})}),Rejected:()=>e,Resolved:()=>e}),[v.SUBSCRIBE]:(e,t)=>t.effect.caseOf({Pending:()=>b(b({},e),{},{subscriptions:b(b({},e.subscriptions),{},{[t.collectionUid]:!0})}),Rejected:()=>e,Resolved:()=>e}),[v.UNSUBSCRIBE]:(e,t)=>t.effect.caseOf({Pending:()=>b(b({},e),{},{subscriptions:b(b({},e.subscriptions),{},{[t.collectionUid]:!1})}),Rejected:()=>e,Resolved:()=>e}),[v.FOLLOW]:(e,t)=>t.effect.caseOf({Pending:()=>b(b({},e),{},{followings:b(b({},e.followings),{},{[t.userUid]:!0})}),Rejected:()=>e,Resolved:()=>e}),[v.UNFOLLOW]:(e,t)=>t.effect.caseOf({Pending:()=>b(b({},e),{},{followings:b(b({},e.followings),{},{[t.userUid]:!1})}),Rejected:()=>e,Resolved:()=>e}),[v.UPVOTE_REVIEW]:(e,t)=>t.effect.caseOf({Pending:()=>b(b({},e),{},{upvotes:b(b({},e.upvotes),{},{[t.reviewUid]:!0})}),Rejected:()=>e,Resolved:()=>e}),[v.DOWNVOTE_REVIEW]:(e,t)=>t.effect.caseOf({Pending:()=>b(b({},e),{},{upvotes:b(b({},e.upvotes),{},{[t.reviewUid]:!1})}),Rejected:()=>e,Resolved:()=>e}),[v.CAN_REVIEW_MODEL]:(e,t)=>t.effect.caseOf({Pending:()=>e,Rejected:()=>e,Resolved:r=>b(b({},e),{},{reviewableModels:b(b({},e.reviewableModels),{},{[t.modelUid]:r})})}),[v.UPDATE_PUBLISH_CREDITS]:e=>e,[v.UPDATE]:e=>e,[v.GET_IS_SELLER]:(e,t)=>t.effect.caseOf({Pending:()=>e,Rejected:()=>e,Resolved:t=>b(b({},e),{},{isSeller:t})}),[v.ADD_MEMBERSHIP]:(e,t)=>b(b({},e),{},{memberships:b(b({},e.memberships),{},{[t.orgUid]:t.memberUid})}),[v.CONFIRM_CODE]:e=>e})),S={isInflated:e=>null!==e.authUser.uid,uid:e=>e.authUser.uid,user:e=>(0,a.cY)(e.authUser.uid,d.EA,e.entities),isAuthenticated:e=>S.isInflated(e)&&!0!==S.user(e).isAnonymous,isLimited:e=>!S.isAuthenticated(e)||S.user(e).isLimited,allowsRestricted:e=>e.authUser.allowsRestricted,isSeller:e=>e.authUser.isSeller,isStaff:e=>S.isAuthenticated(e)&&S.user(e).isStaff,canAccessFeature:(0,o.Z)(((e,t)=>S.isInflated(t)&&S.user(t).features.includes(e))),canAccessOrgFeature:(0,o.Z)(((e,t,r)=>{var i;return S.isInflated(r)&&S.user(r).features.includes(e)||Boolean(t&&(null===(i=r.entities.orgs[t])||void 0===i?void 0:i.features.includes(e)))})),likes:e=>e.authUser.likes,doesLike:(e,t)=>t.authUser.likes[e]||!1,hasPurchased:(e,t)=>t.authUser.purchases[e]||!1,hasSubscribed:(e,t)=>t.authUser.subscriptions[e]||!1,doesFollow:(e,t)=>t.authUser.followings[e]||!1,doesFollowAll:(e,t)=>e.every((e=>t.authUser.followings[e])),followings:e=>e.authUser.followings,hasUpvotedReview:(e,t)=>t.authUser.upvotes[e]||!1,canReviewModel:(e,t)=>t.authUser.reviewableModels[e]||!1,hasCredits:e=>(0,g.ND)(S.user(e)),plan:e=>{const t=S.user(e);return t.isAnonymous?"basic":t.account},hasAtLeastPlan:(e,t)=>{const r=S.user(t);return!r.isAnonymous&&(0,g.Di)(r.account,e)},getOrgRole:(0,o.Z)(((e,t)=>{const r=S.user(t),i=t.authUser.memberships[e];if(r.isAnonymous||!i)return p.Y;const n=t.entities.orgMembers[i];return n?(0,p.G)(n.role):p.Y}))},R=(0,s.Z)((e=>(0,h.dC)((t=>{const r=(0,l.GZ)({type:v.GET_LIKES,payload:{effect:async({Api:e,getState:r})=>S.isAuthenticated(r())?await e.getCurrentUserLikes(t):{}}});return e(r)})))),A=(0,s.Z)((e=>(0,h.dC)((t=>{const r=(0,l.GZ)({type:v.GET_PURCHASES,payload:{effect:async({Api:e,getState:r})=>S.isAuthenticated(r())?await e.getCurrentUserPurchases(t):{}}});return e(r)})))),_=(0,s.Z)((e=>(0,h.dC)((t=>{const r=(0,l.GZ)({type:v.GET_SUBSCRIPTIONS,payload:{effect:async({Api:e,getState:r})=>S.isAuthenticated(r())?await e.getCurrentUserSubscriptions(t):{}}});return e(r)})))),T=(0,s.Z)((e=>(0,h.dC)((t=>{const r=(0,l.GZ)({type:v.GET_FOLLOWINGS,payload:{effect:async({Api:e,getState:r})=>S.isAuthenticated(r())?await e.getCurrentUserFollowings(t):{}}});return e(r)})))),I=(0,s.Z)((e=>(0,h.dC)((t=>{const r=(0,l.GZ)({type:v.GET_UPVOTES,payload:{effect:async({Api:e,getState:r})=>S.isAuthenticated(r())?await e.getCurrentUserUpvotes(t):{}}});return e(r)})))),D={initClient:()=>(0,l.GZ)({type:v.INIT_CLIENT,payload:{effect:({CookieBag:e,getState:t})=>{const r=t();return S.isAuthenticated(r)?{}:{allowsRestricted:"true"===e.get("sb_allows_age_restricted")}}}}),getFromPrefetched:()=>({type:v.GET_FROM_PREFETCHED,payload:{effect:function({Prefetching:e,CookieBag:t,getState:r}){const i=r();if(S.isInflated(i))return{result:S.uid(i),entities:{},allowsRestricted:S.allowsRestricted(i)};const n={uid:"anonymous",features:[],isAnonymous:!0},o=e.get("/i/users/me")||n;if(o.isAnonymous){const e=b(b({},n),o);return b(b({},(0,a.Fv)(e,d.EA)),{},{allowsRestricted:"true"===t.get("sb_allows_age_restricted")})}const s=e.get(`/i/users/${o.uid}`)||o;return b(b({},(0,a.Fv)(s,d.EA)),{},{allowsRestricted:s.allowsRestricted})}}}),get:({allowPrefetching:e=!0}={})=>(0,l.GZ)({type:v.GET,payload:{effect:async function({Api:t}){const r=await t.getCurrentUser({allowPrefetching:e});return b(b({},(0,a.Fv)(r,d.EA)),{},{allowsRestricted:r.allowsRestricted})}}}),getIsSeller:()=>({type:v.GET_IS_SELLER,payload:{effect:async function({Api:e,getState:t}){return!S.isLimited(t())&&await e.isCurrentUserSeller()}}}),authenticate:(e=(()=>{}),{redirectUrl:t,initialForm:r="login",usageType:i,displayOrgSso:n=!0}={})=>(o,s)=>{if(!S.isLimited(s()))return e(S.user(s()));if(S.isAuthenticated(s()))return o(m.Nw.add({level:"warning",type:"confirmEmail"})),o((0,l.GZ)({type:v.CONFIRM_EMAIL,payload:{effect:({Popups:e})=>e.loadEmailConfirmationPopup().then((e=>(new e).open()))}}));const a=(0,l.GZ)({type:v.AUTHENTICATE,payload:{effect:({Popups:o,dispatch:s,getState:a,History:c})=>o.loadAuthenticatePopup().then((e=>new e({initialForm:r,next:t,usageType:i,displayOrgSso:n}).open())).then((r=>s(D.get({allowPrefetching:!1})).then((()=>S.isLimited(a())?S.isAuthenticated(a())?s(m.Nw.add({level:"warning",type:"confirmEmail"})):void 0:e(S.user(a())))).catch((e=>console.error(e))).then((()=>t||r)))).then((e=>{e&&c.push(e)}))}});return o(a)},logout:({next:e="pages:index"}={})=>(0,l.GZ)({type:v.LOGOUT,payload:{effect:({Api:t,History:r,CookieBag:i})=>t.logout().then((()=>(e&&r.push((0,y.HQ)(e,{},{logged_out:1})),{allowsRestricted:"true"===i.get("sb_allows_age_restricted"),entities:{users:{anonymous:{isAnonymous:!0,features:[],uid:"anonymous"}}}})))}}),signup:({username:e,email:t,password:r,tosVersion:i,newsletterConsent:n,usageType:o})=>(0,l.GZ)({type:v.SIGNUP,payload:{effect:async({Api:s,CookieBag:l})=>{const u=await s.signup({username:e,email:t,password:r,tosVersion:i,newsletterConsent:n});try{return await s.login({email:t,password:r}),o&&await s.updateUser(u.uid,{usageType:o}),c.Z.userTrackingCookie&&l.remove(c.Z.userTrackingCookie),b(b({},(0,a.Fv)(b({},u),d.EA)),{},{redirectTo:(0,y.HQ)("users:onboarding")})}catch(e){throw new f.Wj}}}}),login:({email:e,password:t},r)=>(0,l.GZ)({type:v.LOGIN,payload:{effect:async function({Api:i,CookieBag:n}){const{redirectTo:o}=await i.login({email:e,password:t,next:r.redirect}),s=await i.getCurrentUser({allowPrefetching:!1});return c.Z.userTrackingCookie&&n.remove(c.Z.userTrackingCookie),b(b({},(0,a.Fv)(s,d.EA)),{},{redirectTo:o||(0,y.HQ)("feeds:following"),allowsRestricted:s.allowsRestricted})}}}),getDoesLike:e=>t=>R(t)([e]).then((t=>t[e])),likeModel:e=>(0,l.GZ)({type:v.LIKE_MODEL,payload:{modelUid:e,entities:{models:{[e]:{likeCount:e=>e+1}}},effect:function({Api:t,dispatch:r}){return r(D.authenticate((()=>t.likeModel(e))))}}}),unlikeModel:e=>(0,l.GZ)({type:v.UNLIKE_MODEL,payload:{modelUid:e,entities:{models:{[e]:{likeCount:e=>e-1}}},effect:function({Api:t,dispatch:r}){return r(D.authenticate((()=>t.unlikeModel(e))))}}}),toggleLikeModel:(e,t)=>(r,i)=>{if(S.isLimited(i()))return r(D.authenticate((()=>r(D.likeModel(e))),{redirectUrl:t}));const n=S.doesLike(e,i());return r(n?D.unlikeModel(e):D.likeModel(e))},getHasPurchased:e=>t=>A(t)([e]).then((t=>t[e]||!1)),getHasSubscribed:e=>t=>_(t)([e]).then((t=>t[e])),subscribe:e=>(0,l.GZ)({type:v.SUBSCRIBE,payload:{collectionUid:e,entities:{collections:{[e]:{subscriberCount:e=>e+1}}},effect:({Api:t,dispatch:r})=>r(D.authenticate((()=>t.subscribeToCollection(e))))}}),unsubscribe:e=>(0,l.GZ)({type:v.UNSUBSCRIBE,payload:{collectionUid:e,entities:{collections:{[e]:{subscriberCount:e=>e-1}}},effect:({Api:t,dispatch:r})=>r(D.authenticate((()=>t.unsubscribeFromCollection(e))))}}),toggleSubscribe:e=>(t,r)=>{if(S.isLimited(r()))return t(D.authenticate((()=>t(D.subscribe(e)))));const i=S.hasSubscribed(e,r());return t(i?D.unsubscribe(e):D.subscribe(e))},getDoesFollow:e=>t=>T(t)([e]).then((t=>t[e])),follow:e=>(0,l.GZ)({type:v.FOLLOW,payload:{userUid:e,entities:{users:{[e]:{followerCount:e=>e+1}}},effect:({Api:t,dispatch:r})=>r(D.authenticate((()=>t.followUser(e))))}}),unfollow:e=>(0,l.GZ)({type:v.UNFOLLOW,payload:{userUid:e,entities:{users:{[e]:{followerCount:e=>e-1}}},effect:({Api:t,dispatch:r})=>r(D.authenticate((()=>t.unfollowUser(e))))}}),toggleFollow:e=>(t,r)=>{if(!S.isAuthenticated(r()))return t(D.authenticate((()=>t(D.follow(e)))));const i=S.doesFollow(e,r());return t(i?D.unfollow(e):D.follow(e))},setAllowsRestricted:e=>(t,r)=>{const i=S.uid(r()),n=(0,l.GZ)({type:v.SET_ALLOWS_RESTRICTED,payload:{allowsRestricted:e,effect:async({Api:t,CookieBag:r,getState:n})=>S.isAuthenticated(n())?t.updateUserAllowsRestriced(i,e):r.set("sb_allows_age_restricted",e.toString())}});return t(n)},getHasUpvotedReview:e=>t=>I(t)([e]).then((t=>t[e])),upvoteReview:e=>(0,l.GZ)({type:v.UPVOTE_REVIEW,payload:{reviewUid:e,entities:{reviews:{[e]:{upvoteCount:e=>e+1}}},effect:function({Api:t,dispatch:r}){return r(D.authenticate((()=>t.upvoteReview(e))))}}}),downvoteReview:e=>(0,l.GZ)({type:v.DOWNVOTE_REVIEW,payload:{reviewUid:e,entities:{reviews:{[e]:{upvoteCount:e=>e-1}}},effect:function({Api:t,dispatch:r}){return r(D.authenticate((()=>t.downvoteReview(e))))}}}),toggleUpvoteReview:e=>(t,r)=>{if(S.isLimited(r()))return t(D.authenticate((()=>t(D.upvoteReview(e)))));const i=S.hasUpvotedReview(e,r());return t(i?D.downvoteReview(e):D.upvoteReview(e))},canReviewModel:e=>(0,l.GZ)({type:v.CAN_REVIEW_MODEL,payload:{modelUid:e,effect:({Api:t,getState:r})=>!S.isLimited(r())&&t.canReviewModel(e).then((e=>e.canReview))}}),updateAvatar:e=>(0,l.GZ)({type:v.UPDATE_AVATAR,payload:{effect:async function({Api:t,getState:r}){const i=S.uid(r());if(!i)throw new Error("actions.authUser.updateAvatar error: current user isn't logged in");const{uid:n}=await t.updateCurrentUserAvatar(e);return{entities:{users:{[i]:{avatars:await t.pollAvatars(n)}}}}}}}),updatePublishCredits:e=>({type:v.UPDATE_PUBLISH_CREDITS,payload:{effect:async function({getState:t}){const r=S.user(t());if(r.isAnonymous||"unlimited"===r.viewOnlyLimit.type)return{};const{remaining:i}=r.viewOnlyLimit,n=e(i);return{entities:{users:{[r.uid]:{viewOnlyLimit:b(b({},r.viewOnlyLimit),{},{remaining:n})}}}}}}}),update:(e,t)=>({type:v.UPDATE,payload:b(b({},t&&e.segment?{entities:{users:{[t]:{segment:e.segment}}}}:{}),{},{effect:async function({getState:t}){var r;const i=S.user(t());if(i.isAnonymous)return{};const n=await E.Z.updateUser(i.uid,b(b({},e),e.segment?{segment:null===(r=e.segment)||void 0===r?void 0:r.uid}:{}));return b({},(0,a.Fv)(n,d.EA))}})}),addMembership:(e,t)=>({type:v.ADD_MEMBERSHIP,payload:{orgUid:e,memberUid:t}}),confirmCode:e=>(0,l.GZ)({type:v.CONFIRM_CODE,payload:{effect:async({Api:t,getState:r})=>{const i=S.uid(r()),n=new URLSearchParams(document.location.search).get("voucher");return await t.confirmCurrentUser(b({code:e},n?{voucher:n}:{})),{entities:{users:{[i]:{isLimited:!1}}}}}}})}},h9M4:(e,t,r)=>{"use strict";r.d(t,{I6:()=>h,Nw:()=>y,V5:()=>l,wl:()=>g});var i=r("4fae"),n=r("HGbS"),o=r("7Uq8"),s=r("MBtD"),a=r("zIYZ");const c=(0,a.cM)(3);let l;!function(e){e.UPDATE="entities.UPDATE",e.GET_CATEGORIES="entities.GET_CATEGORIES"}(l||(l={}));const d={models:{},materials:{},users:{},collections:{},categories:{},licenses:{},comments:{},reviews:{},orgs:{},orgMembers:{},orgProjects:{},uploadActivities:{},collectionActivities:{},collectActivities:{},commentActivities:{},followActivities:{},subscribeActivities:{},likeActivities:{},staffpickActivities:{},reviewActivities:{},optimistic:{}},u=(e,t)=>t.payload&&t.payload.entities?(0,a.Vx)(t.payload.entities,e):e,p=(0,n.Ac)(((e=d,t)=>(0,n.cd)(t)?t.payload.effect.caseOf({Pending:()=>u(e,t),Rejected:()=>e,Resolved:t=>t&&t.entities?c(e,t.entities):e}):u(e,t))),f=(0,s.Lq)(d,{[l.UPDATE]:(e,t)=>c(e,t.entities),[l.GET_CATEGORIES]:e=>e}),h=(0,s.g0)(p,f),g={all:e=>e.entities,model:(e,t)=>(0,i.cY)(e,o.o4,t.entities),user:(e,t)=>(0,i.cY)(e,o.EA,t.entities),collection:(e,t)=>(0,i.cY)(e,o.hJ,t.entities),category:(e,t)=>(0,i.cY)(e,o.W3,t.entities),categoryBySlug:(e,t)=>g.allCategories(t).find((t=>t.slug===e)),allCategories:e=>Object.values(e.entities.categories).sort(((e,t)=>e.slug<t.slug?-1:1)),license:(e,t)=>(0,i.cY)(e,o.Vl,t.entities),comment:(e,t)=>(0,i.cY)(e,o.UI,t.entities),review:(e,t)=>(0,i.cY)(e,o.j7,t.entities),org:(e,t)=>(0,i.cY)(e,o.gW,t.entities),orgMember:(e,t)=>(0,i.cY)(e,o.JA,t.entities),orgProject:(e,t)=>(0,i.cY)(e,o.wA,t.entities),activity:(e,t)=>(0,i.cY)(e,o.lw,t.entities),material:(e,t)=>(0,i.cY)(e,o.GX,t.entities)},y={getCategories:()=>({type:l.GET_CATEGORIES,payload:{effect:async function({Api:e}){const{results:t}=await e.getCategories();return(0,i.Fv)(t,[o.W3])}}}),update:({models:e=[],materials:t=[],users:r=[],collections:n=[],categories:s=[],licenses:a=[],comments:d=[],reviews:u=[],orgs:p=[],orgMembers:f=[],orgProjects:h=[],activities:g=[]})=>({type:l.UPDATE,payload:{entities:c((0,i.Fv)(e,[o.o4]).entities,(0,i.Fv)(t,[o.GX]).entities,(0,i.Fv)(r,[o.EA]).entities,(0,i.Fv)(n,[o.hJ]).entities,(0,i.Fv)(s,[o.W3]).entities,(0,i.Fv)(a,[o.Vl]).entities,(0,i.Fv)(d,[o.UI]).entities,(0,i.Fv)(u,[o.j7]).entities,(0,i.Fv)(p,[o.gW]).entities,(0,i.Fv)(f,[o.JA]).entities,(0,i.Fv)(h,[o.wA]).entities,(0,i.Fv)(g.map((({obj:e,target:t,actor:r,verb:i,timestamp:n,uid:o})=>({timestamp:n,uid:o,obj:e,target:t,actor:r,verb:i}))),[o.lw]).entities)}})}},"6R7t":(e,t,r)=>{"use strict";r.d(t,{I6:()=>f,Nw:()=>g,V5:()=>u,wl:()=>h});var i=r("NQ1V"),n=r("rEmB"),o=r("MndH"),s=r("AyNe"),a=r("MBtD"),c=r("Oyie");function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){(0,i.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}let u;!function(e){e.ADD="messages.ADD",e.FLASH="messages.FLASH",e.ADD_MULTIPLE="messages.ADD_MULTIPLE",e.REMOVE="messages.REMOVE"}(u||(u={}));const p=(e,t)=>e.messages.map((e=>(0,n.Z)((0,o.Z)(e,"uid"),(0,o.Z)(t,"uid")))).filter((e=>e)).length?d({},e):d(d({},e),{},{messages:[...e.messages,t]}),f=(0,a.Lq)({messages:[]},{[u.ADD]:p,[u.ADD_MULTIPLE]:(e,t)=>t.reduce(p,e),[u.REMOVE]:(e,t)=>d(d({},e),{},{messages:e.messages.filter((e=>e.uid!==t))})}),h={messages:e=>e.messages.messages},g={add:e=>({type:u.ADD,payload:d(d({},e),{},{uid:(0,s.Z)()})}),addMultiple:e=>({type:u.ADD_MULTIPLE,payload:e.map((e=>d(d({},e),{},{uid:(0,s.Z)()})))}),remove:e=>({type:u.REMOVE,payload:e}),flash:(e,t=5e3)=>({type:u.FLASH,payload:{effect:async({dispatch:r})=>{const{payload:{uid:i}}=await r(g.add(e));await new c((e=>setTimeout(e,t))),await r(g.remove(i))}}})}},MHQn:(e,t,r)=>{"use strict";r.d(t,{E3:()=>h,I6:()=>y,Nw:()=>P,wl:()=>m});var i=r("NQ1V"),n=r("MndH"),o=r("4fae"),s=r("HGbS"),a=r("3wYL"),c=r("7Uq8"),l=r("MBtD"),d=r("g/7r"),u=r("JBVY");function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){(0,i.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const h={query:"",filters:{sortBy:"-createdAt",type:["models","projects"]},models:a.E3,folders:a.E3};let g;!function(e){e.INIT_CLIENT="orgGlobalSearch.INIT_CLIENT",e.UPDATE_QUERY="orgGlobalSearch.UPDATE_QUERY",e.UPDATE_FILTERS="orgGlobalSearch.UPDATE_FILTERS",e.LOAD_INITIAL_FILTERS="orgGlobalSearch.LOAD_INITIAL_FILTERS",e.LOAD_MODELS_INITIAL_QUERY="orgGlobalSearch.LOAD_MODELS_INITIAL_QUERY",e.FIRST_MODELS="orgGlobalSearch.FIRST_MODELS",e.NEXT_MODELS="orgGlobalSearch.NEXT_MODELS",e.LOAD_FOLDERS_INITIAL_QUERY="orgGlobalSearch.LOAD_FOLDERS_INITIAL_QUERY",e.FIRST_FOLDERS="orgGlobalSearch.FIRST_FOLDERS",e.NEXT_FOLDERS="orgGlobalSearch.NEXT_FOLDERS",e.ADD_MODEL="orgGlobalSearch.ADD_MODEL",e.DELETE_MODEL="orgGlobalSearch.DELETE_MODEL",e.DELETE_FOLDER="orgGlobalSearch.DELETE",e.RESET_SEARCH="orgGlobalSearch.RESET_SEARCH"}(g||(g={}));const y=(0,l.Lq)(h,{[g.INIT_CLIENT]:(e,t)=>t.effect.caseOf({Pending:()=>e,Rejected:()=>e,Resolved:t=>f(f({},e),{},{query:t.query,filters:{sortBy:t.sortBy,type:t.type}})}),[g.UPDATE_QUERY]:(e,t)=>f(f({},e),{},{query:t.query}),[g.UPDATE_FILTERS]:(e,t)=>f(f({},e),{},{filters:f(f({},e.filters),t.filters)}),[g.LOAD_INITIAL_FILTERS]:(e,t)=>f(f({},e),{},{query:t.query,filters:f(f({},e.filters),t.filters)}),[g.FIRST_MODELS]:(e,t)=>f(f({},e),{},{models:a.rN(a.V5.FIRST,e.models,t.effect)}),[g.NEXT_MODELS]:(e,t)=>f(f({},e),{},{models:a.rN(a.V5.NEXT,e.models,t.effect)}),[g.LOAD_MODELS_INITIAL_QUERY]:(e,t)=>t.effect.caseOf({Pending:()=>e,Rejected:()=>e,Resolved:t=>f(f({},e),{},{models:a.I6(e.models,a.Nw.firstResolved(t))})}),[g.FIRST_FOLDERS]:(e,t)=>f(f({},e),{},{folders:a.rN(a.V5.FIRST,e.folders,t.effect)}),[g.NEXT_FOLDERS]:(e,t)=>f(f({},e),{},{folders:a.rN(a.V5.NEXT,e.folders,t.effect)}),[g.LOAD_FOLDERS_INITIAL_QUERY]:(e,t)=>t.effect.caseOf({Pending:()=>e,Rejected:()=>e,Resolved:t=>f(f({},e),{},{folders:a.I6(e.folders,a.Nw.firstResolved(t))})}),[g.ADD_MODEL]:(e,t)=>f(f({},e),{},{models:a.I6(e.models,a.Nw.prepend(t.modelUid))}),[g.DELETE_MODEL]:(e,{modelUid:t})=>f(f({},e),{},{models:f(f({},e.models),{},{list:e.models.list.filter((e=>t!==e))})}),[g.DELETE_FOLDER]:(e,{uid:t})=>f(f({},e),{},{folders:f(f({},e.folders),{},{list:e.folders.list.filter((e=>e!==t))})}),[g.RESET_SEARCH]:e=>f(f({},e),{},{query:"",models:f(f({},e.folders),{},{list:[]}),folders:f(f({},e.folders),{},{list:[]})})}),m={query:e=>e.orgGlobalSearch.query,filters:e=>e.orgGlobalSearch.filters,models:e=>(0,o.cY)(a.wl.list(e.orgGlobalSearch.models),[c.o4],e.entities),modelPagination:e=>({cursors:a.wl.cursors(e.orgGlobalSearch.models),isLoading:a.wl.isLoading(e.orgGlobalSearch.models),loading:a.wl.loading(e.orgGlobalSearch.models),hasNextPage:a.wl.hasNextPage(e.orgGlobalSearch.models)}),folders:e=>(0,o.cY)(a.wl.list(e.orgGlobalSearch.folders),[c.wA],e.entities),folderPagination:e=>({cursors:a.wl.cursors(e.orgGlobalSearch.folders),isLoading:a.wl.isLoading(e.orgGlobalSearch.folders),loading:a.wl.loading(e.orgGlobalSearch.folders),hasNextPage:a.wl.hasNextPage(e.orgGlobalSearch.folders)}),filtersCount:e=>(0,d.Qd)((0,n.Z)(h.filters,["sortBy"]),m.filters(e))},E=async(e,t,r,i=null)=>{const n=m.query(r),s=(e=>{switch(e){case"-title":return"-name";case"title":return"name";default:return"-createdAt"}})(m.filters(r).sortBy),{results:a,cursors:l}=await t.gSearchOrgProjects(e,{q:n,cursor:i,sortBy:s,count:9}),{entities:d,result:u}=(0,o.Fv)(a,[c.wA]);return{entities:d,list:u,cursors:l}},O=async(e,t,r,i=null)=>{const n=m.query(r),{sortBy:s}=m.filters(r),{results:a,cursors:l}=await t.globalSearchOrgModels(e,{q:n,cursor:i,sortBy:s}),{entities:d,result:u}=(0,o.Fv)(a,[c.o4]);return{entities:d,list:u,cursors:l}},P={initClient:()=>({type:g.INIT_CLIENT,payload:{effect:function(){return{query:u.ZP.string("q",h.query),type:u.ZP.strings("type",h.filters.type),sortBy:u.ZP.string("sort_by",h.filters.sortBy)}}}}),loadModelsFirstPage:e=>({type:g.FIRST_MODELS,payload:{effect:function({Api:t,getState:r}){return O(e,t,r())}}}),loadModelsNextPage:e=>({type:g.NEXT_MODELS,payload:{effect:function({Api:t,getState:r}){const{cursors:{next:i}}=m.modelPagination(r());return O(e,t,r(),i)}}}),loadModelsInitialQuery:e=>({type:g.LOAD_MODELS_INITIAL_QUERY,payload:{effect:function({Prefetching:t}){const r=t.get(e);if(!r)throw new Error(`No search response in prefetchedData for query "${e}"`);const{results:i=[],cursors:n={next:null,previous:null}}=r,{entities:s,result:a}=(0,o.Fv)(i,[c.o4]);return{entities:s,list:a,cursors:n}}}}),updateQuery:e=>({type:g.UPDATE_QUERY,payload:{query:e}}),updateFilters:e=>({type:g.UPDATE_FILTERS,payload:{filters:e}}),resetFilters:()=>P.updateFilters(h.filters),loadInitialFilters:e=>{const[,t=""]=e.split("?"),r=(0,u.Z_)("q",h.query,t),i=(e=>{const[,t=""]=e.split("?");return{type:(0,u.j2)("type",h.filters.type,t),sortBy:(0,u.Z_)("sort_by",h.filters.sortBy,t)}})(e);return{type:g.LOAD_INITIAL_FILTERS,payload:{query:r,filters:i}}},loadFoldersFirstPage:e=>(0,s.GZ)({type:g.FIRST_FOLDERS,payload:{effect:function({Api:t,getState:r}){return E(e,t,r())}}}),loadFoldersInitialQuery:e=>({type:g.LOAD_FOLDERS_INITIAL_QUERY,payload:{effect:function({Prefetching:t}){const r=t.get(e);if(!r)throw new Error(`No search response in prefetchedData for query "${e}"`);const{results:i=[],cursors:n={next:null,previous:null}}=r,{entities:s,result:a}=(0,o.Fv)(i,[c.wA]);return{entities:s,list:a,cursors:n}}}}),loadFoldersNextPage:e=>({type:g.NEXT_FOLDERS,payload:{effect:function({Api:t,getState:r}){const{cursors:{next:i}}=m.folderPagination(r());return E(e,t,r(),i)}}}),addModel:e=>({type:g.ADD_MODEL,payload:{modelUid:e}}),deleteModel:e=>(0,s.GZ)({type:g.DELETE_MODEL,payload:{modelUid:e,effect:({Prefetching:e})=>{e.invalidateAllMatchRegExp(/^\/i\/orgs\/\w*\/models.*/),e.invalidateAllMatchRegExp(/^\/i\/orgs\/\w*\/projects.*/)}}}),deleteFolder:e=>(0,s.GZ)({type:g.DELETE_FOLDER,payload:{uid:e.uid,effect:({Prefetching:t})=>{t.invalidateAllMatchRegExp(new RegExp(`^/i/orgs/${e.org.uid}/search.*&type=projects`))}}}),resetSearch:()=>({type:g.RESET_SEARCH,payload:{}})}},"4FSB":(e,t,r)=>{"use strict";r.d(t,{E3:()=>g,I6:()=>m,Nw:()=>P,V5:()=>y,wl:()=>E});var i=r("NQ1V"),n=r("MndH"),o=r("4fae"),s=r("HGbS"),a=r("3wYL"),c=r("7Uq8"),l=r("MBtD"),d=r("g/7r"),u=r("JBVY"),p=r("EDOU");function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){(0,i.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const g=h(h({},p.E3),{},{folders:a.E3});let y;!function(e){e.INIT_CLIENT="orgProjectSearch.INIT_CLIENT",e.UPDATE_QUERY="orgProjectSearch.UPDATE_QUERY",e.UPDATE_DISPLAY="orgProjectSearch.UPDATE_DISPLAY",e.UPDATE_FILTERS="orgProjectSearch.UPDATE_FILTERS",e.LOAD_INITIAL_QUERY="orgProjectSearch.LOAD_INITIAL_QUERY",e.LOAD_INITIAL_FILTERS="orgProjectSearch.LOAD_INITIAL_FILTERS",e.LOAD_INITIAL_DISPLAY="orgProjectSearch.LOAD_INITIAL_DISPLAY",e.FIRST="orgProjectSearch.FIRST",e.NEXT="orgProjectSearch.NEXT",e.PREVIOUS="orgProjectSearch.PREVIOUS",e.DELETE_MODEL="orgProjectSearch.DELETE_MODEL",e.DELETE_FOLDER="orgProjectSearch.DELETE_FOLDER",e.ADD_MODEL="orgProjectSearch.ADD_MODEL",e.LOAD_FOLDERS_INITIAL_QUERY="orgProjectSearch.LOAD_FOLDERS_INITIAL_QUERY",e.FIRST_FOLDERS="orgProjectSearch.FIRST_FOLDERS",e.NEXT_FOLDERS="orgProjectSearch.NEXT_FOLDERS",e.INVALIDATE_FOLDERS_CACHE="orgProjectSearch.INVALIDATE_FOLDERS_CACHE"}(y||(y={}));const m=(0,l.Lq)(g,{[y.INIT_CLIENT]:(e,t)=>t.effect.caseOf({Pending:()=>e,Rejected:()=>e,Resolved:t=>h(h({},e),t)}),[y.UPDATE_QUERY]:(e,t)=>h(h({},e),{},{query:t.query}),[y.UPDATE_DISPLAY]:(e,t)=>h(h({},e),{},{display:t.display}),[y.UPDATE_FILTERS]:(e,t)=>h(h({},e),{},{filters:h(h({},e.filters),t.filters)}),[y.LOAD_INITIAL_QUERY]:(e,t)=>t.effect.caseOf({Pending:()=>h(h({},e),{},{query:t.query,filters:t.filters}),Rejected:()=>e,Resolved:t=>h(h({},e),{},{models:a.I6(e.models,a.Nw.firstResolved(t))})}),[y.LOAD_INITIAL_FILTERS]:(e,t)=>h(h({},e),{},{filters:h(h({},e.filters),t.filters)}),[y.LOAD_INITIAL_DISPLAY]:(e,t)=>t.effect.caseOf({Pending:()=>e,Rejected:()=>e,Resolved:({display:t})=>h(h({},e),{},{display:t})}),[y.FIRST]:(e,t)=>h(h({},e),{},{models:a.rN(a.V5.FIRST,e.models,t.effect)}),[y.NEXT]:(e,t)=>h(h({},e),{},{models:a.rN(a.V5.NEXT,e.models,t.effect)}),[y.PREVIOUS]:(e,t)=>h(h({},e),{},{models:a.rN(a.V5.PREVIOUS,e.models,t.effect)}),[y.DELETE_MODEL]:(e,{uid:t})=>h(h({},e),{},{models:h(h({},e.models),{},{list:e.models.list.filter((e=>e!==t))})}),[y.ADD_MODEL]:(e,{modelUid:t})=>h(h({},e),{},{models:a.I6(e.models,a.Nw.prepend(t))}),[y.LOAD_FOLDERS_INITIAL_QUERY]:(e,t)=>t.effect.caseOf({Pending:()=>e,Rejected:()=>e,Resolved:t=>h(h({},e),{},{folders:a.I6(e.folders,a.Nw.firstResolved(t))})}),[y.FIRST_FOLDERS]:(e,t)=>h(h({},e),{},{folders:a.rN(a.V5.FIRST,e.folders,t.effect)}),[y.NEXT_FOLDERS]:(e,t)=>h(h({},e),{},{folders:a.rN(a.V5.NEXT,e.folders,t.effect)}),[y.DELETE_FOLDER]:(e,{uid:t})=>h(h({},e),{},{folders:h(h({},e.folders),{},{list:e.folders.list.filter((e=>e!==t))})})}),E={query:e=>e.orgProjectSearch.query,display:e=>e.orgProjectSearch.display,filters:e=>e.orgProjectSearch.filters,filtersCount:e=>{const[t,r]=[E.filters(e),g.filters].map((e=>(0,n.Z)(e,["projects","sortBy"])));return(0,d.Qd)(t,r)},models:e=>(0,o.cY)(a.wl.list(e.orgProjectSearch.models),[c.o4],e.entities),cursors:e=>a.wl.cursors(e.orgProjectSearch.models),isLoading:e=>a.wl.isLoading(e.orgProjectSearch.models),loading:e=>a.wl.loading(e.orgProjectSearch.models),hasNextPage:e=>a.wl.hasNextPage(e.orgProjectSearch.models),hasPreviousPage:e=>a.wl.hasPreviousPage(e.orgProjectSearch.models),folders:e=>(0,o.cY)(a.wl.list(e.orgProjectSearch.folders),[c.wA],e.entities),folderPagination:e=>({cursors:a.wl.cursors(e.orgProjectSearch.folders),isLoading:a.wl.isLoading(e.orgProjectSearch.folders),loading:a.wl.loading(e.orgProjectSearch.folders),hasNextPage:a.wl.hasNextPage(e.orgProjectSearch.folders)})},O=async(e,t,r,i=null)=>{const n=E.query(r),s=E.filters(r),a=(e=>{switch(e){case"-createdAt":default:return"-updatedAt";case"createdAt":return"updatedAt";case"-title":return"-name";case"title":return"name"}})(s.sortBy),{results:l,cursors:d}=await t.searchOrgProjects(e,{q:n,cursor:i,sortBy:a,parent:s.projects[0]}),{entities:u,result:p}=(0,o.Fv)(l,[c.wA]);return{entities:u,list:p,cursors:d}},P={initClient:()=>({type:y.INIT_CLIENT,payload:{effect:function(e){return e.isServer?{display:"grid"}:{display:e.LocalStorage.get(p.SY)||"grid"}}}}),loadInitialQuery:e=>{const[,t=""]=e.split("?"),r=(0,u.Z_)("sort_by",g.filters.sortBy,t),i=(0,u.Z_)("q",g.query,t),n={projects:(0,u.j2)("projects",g.filters.projects,t),sortBy:r,animated:(0,u.Xg)("animated",g.filters.animated,t),rigged:(0,u.Xg)("rigged",g.filters.rigged,t),pbr:(0,u.Xg)("pbr",g.filters.pbr,t),minFaceCount:(0,u.Rx)("min_face_count",p.hX,t),maxFaceCount:(0,u.Rx)("max_face_count",p.jP,t),fileFormats:(0,u.j2)("file_formats",g.filters.fileFormats,t),visibility:(0,u.j2)("visibility",g.filters.visibility,t),users:(0,u.j2)("users",g.filters.users,t),tags:(0,u.j2)("tags",g.filters.tags,t)};return{type:y.LOAD_INITIAL_QUERY,payload:{query:i,filters:n,effect:function({Prefetching:t}){const r=t.get(e);if(!r)throw new Error(`No search response in prefetchedData for query "${e}"`);const{results:i=[],cursors:n={next:null,previous:null}}=r,{entities:s,result:a}=(0,o.Fv)(i,[c.o4]);return{entities:s,list:a,cursors:n}}}}},loadInitialFilters:e=>{const[,t=""]=e.split("?"),r=(0,u.Z_)("q",g.query,t),i=(0,p.oZ)(e);return{type:y.LOAD_INITIAL_FILTERS,payload:{query:r,filters:i}}},loadInitialDisplay:()=>({type:y.LOAD_INITIAL_DISPLAY,payload:{effect:function(e){return e.isServer?{display:g.display}:{display:e.LocalStorage.get(p.SY)||g.display}}}}),loadFirstPage:e=>({type:y.FIRST,payload:{effect:function({Api:t,getState:r}){return(0,p.yC)(e,t,E,r())}}}),loadNextPage:e=>({type:y.NEXT,payload:{effect:function({Api:t,getState:r}){const{next:i}=E.cursors(r());return(0,p.yC)(e,t,E,r(),i)}}}),loadPreviousPage:e=>({type:y.PREVIOUS,payload:{effect:function({Api:t,getState:r}){const{previous:i}=E.cursors(r());return(0,p.yC)(e,t,E,r(),i)}}}),updateQuery:e=>({type:y.UPDATE_QUERY,payload:{query:e}}),updateDisplay:e=>(0,s.GZ)({type:y.UPDATE_DISPLAY,payload:{display:e,effect:t=>{t.isServer||t.LocalStorage.set(p.SY,e)}}}),updateFilters:e=>({type:y.UPDATE_FILTERS,payload:{filters:e}}),resetFilters:()=>P.updateFilters(g.filters),deleteModel:e=>(0,s.GZ)({type:y.DELETE_MODEL,payload:{uid:e,effect:({Prefetching:e})=>{e.invalidateAllMatchRegExp(/^\/i\/orgs\/\w*\/models.*/),e.invalidateAllMatchRegExp(/^\/i\/orgs\/\w*\/projects.*/)}}}),addModel:e=>({type:y.ADD_MODEL,payload:{modelUid:e}}),loadFoldersFirstPage:e=>(0,s.GZ)({type:y.FIRST_FOLDERS,payload:{effect:function({Api:t,getState:r}){return O(e,t,r())}}}),loadFoldersInitialQuery:e=>({type:y.LOAD_FOLDERS_INITIAL_QUERY,payload:{effect:function({Prefetching:t}){const r=t.get(e);if(!r)throw new Error(`No search response in prefetchedData for query "${e}"`);const{results:i=[],cursors:n={next:null,previous:null}}=r,{entities:s,result:a}=(0,o.Fv)(i,[c.wA]);return{entities:s,list:a,cursors:n}}}}),loadFoldersNextPage:e=>({type:y.NEXT_FOLDERS,payload:{effect:function({Api:t,getState:r}){const{cursors:{next:i}}=E.folderPagination(r());return O(e,t,r(),i)}}}),deleteFolder:e=>(0,s.GZ)({type:y.DELETE_FOLDER,payload:{uid:e,effect:({Prefetching:e})=>{e.invalidateAllMatchRegExp(new RegExp("^/i/orgs//w*/projects.*"))}}})}},EDOU:(e,t,r)=>{"use strict";r.d(t,{E3:()=>v,I6:()=>w,Nw:()=>_,SY:()=>P,V5:()=>b,hX:()=>E,jP:()=>O,oZ:()=>A,wl:()=>S,yC:()=>R});var i=r("3MRe"),n=r("NQ1V"),o=r("MndH"),s=r("4fae"),a=r("HGbS"),c=r("3wYL"),l=r("7Uq8"),d=r("MBtD"),u=r("g/7r"),p=r("JBVY"),f=r("ZzYo");const h=["animated","pbr","rigged","maxFaceCount","minFaceCount","sortBy"],g=["q"];function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const E=0,O=250001,P="sf_org_models_display";let b;!function(e){e.INIT_CLIENT="orgSearch.INIT_CLIENT",e.UPDATE_QUERY="orgSearch.UPDATE_QUERY",e.UPDATE_DISPLAY="orgSearch.UPDATE_DISPLAY",e.UPDATE_FILTERS="orgSearch.UPDATE_FILTERS",e.LOAD_INITIAL_QUERY="orgSearch.LOAD_INITIAL_QUERY",e.LOAD_INITIAL_FILTERS="orgSearch.LOAD_INITIAL_FILTERS",e.LOAD_INITIAL_DISPLAY="orgSearch.LOAD_INITIAL_DISPLAY",e.FIRST="orgSearch.FIRST",e.NEXT="orgSearch.NEXT",e.PREVIOUS="orgSearch.PREVIOUS",e.DELETE="orgSearch.DELETE",e.ADD_MODEL="orgSearch.ADD_MODEL"}(b||(b={}));const v={query:"",filters:{projects:[],sortBy:"-createdAt",animated:!1,rigged:!1,pbr:!1,minFaceCount:E,maxFaceCount:O,fileFormats:[],visibility:[],users:[],tags:[]},models:c.E3,display:"grid"},w=(0,d.Lq)(v,{[b.INIT_CLIENT]:(e,t)=>t.effect.caseOf({Pending:()=>e,Rejected:()=>e,Resolved:t=>m(m({},e),t)}),[b.UPDATE_QUERY]:(e,t)=>m(m({},e),{},{query:t.query}),[b.UPDATE_DISPLAY]:(e,t)=>m(m({},e),{},{display:t.display}),[b.UPDATE_FILTERS]:(e,t)=>m(m({},e),{},{filters:m(m({},e.filters),t.filters)}),[b.LOAD_INITIAL_QUERY]:(e,t)=>t.effect.caseOf({Pending:()=>m(m({},e),{},{query:t.query,filters:t.filters}),Rejected:()=>e,Resolved:t=>m(m({},e),{},{models:c.I6(e.models,c.Nw.firstResolved(t))})}),[b.LOAD_INITIAL_FILTERS]:(e,t)=>m(m({},e),{},{filters:m(m({},e.filters),t.filters)}),[b.LOAD_INITIAL_DISPLAY]:(e,t)=>t.effect.caseOf({Pending:()=>e,Rejected:()=>e,Resolved:({display:t})=>m(m({},e),{},{display:t})}),[b.FIRST]:(e,t)=>m(m({},e),{},{models:c.rN(c.V5.FIRST,e.models,t.effect)}),[b.NEXT]:(e,t)=>m(m({},e),{},{models:c.rN(c.V5.NEXT,e.models,t.effect)}),[b.PREVIOUS]:(e,t)=>m(m({},e),{},{models:c.rN(c.V5.PREVIOUS,e.models,t.effect)}),[b.DELETE]:(e,{uid:t})=>m(m({},e),{},{models:m(m({},e.models),{},{list:e.models.list.filter((e=>e!==t))})}),[b.ADD_MODEL]:(e,{modelUid:t})=>m(m({},e),{},{models:c.I6(e.models,c.Nw.prepend(t))})}),S={query:e=>e.orgSearch.query,display:e=>e.orgSearch.display,filters:e=>e.orgSearch.filters,filtersCount:e=>(0,u.Qd)((0,o.Z)(S.filters(e),["sortBy"]),v.filters),models:e=>(0,s.cY)(c.wl.list(e.orgSearch.models),[l.o4],e.entities),cursors:e=>c.wl.cursors(e.orgSearch.models),isLoading:e=>c.wl.isLoading(e.orgSearch.models),loading:e=>c.wl.loading(e.orgSearch.models),hasNextPage:e=>c.wl.hasNextPage(e.orgSearch.models),hasPreviousPage:e=>c.wl.hasPreviousPage(e.orgSearch.models)},R=async(e,t,r,n,o=null)=>{const a=r.filters(n),c=f.ZP.getSearchQueryParams(r.query(n)),{q:d}=c,u=(0,i.Z)(c,g),{results:p,cursors:y}=await t.getOrgModels(e,m(m(m({},((e,t)=>{let{animated:r,pbr:n,rigged:o,maxFaceCount:s,minFaceCount:a,sortBy:c}=t;return m(m({},(0,i.Z)(t,h)),{},{q:e,maxFaceCount:s===O?void 0:s,minFaceCount:a===E?void 0:a,count:24,sortBy:c,animated:r||void 0,pbr:n||void 0,rigged:o||void 0})})(d,a)),u),{},{tags:a.tags,cursor:o})),{entities:P,result:b}=(0,s.Fv)(p,[l.o4]);return{entities:P,list:b,cursors:y}},A=e=>{const[,t=""]=e.split("?"),r=(0,p.Z_)("sort_by",v.filters.sortBy,t);return{projects:(0,p.j2)("projects",v.filters.projects,t),sortBy:r,animated:(0,p.Xg)("animated",v.filters.animated,t),rigged:(0,p.Xg)("rigged",v.filters.rigged,t),pbr:(0,p.Xg)("pbr",v.filters.pbr,t),minFaceCount:(0,p.Rx)("min_face_count",E,t),maxFaceCount:(0,p.Rx)("max_face_count",O,t),fileFormats:(0,p.j2)("file_formats",v.filters.fileFormats,t),visibility:(0,p.j2)("visibility",v.filters.visibility,t),users:(0,p.j2)("users",v.filters.users,t),tags:(0,p.j2)("tags",v.filters.tags,t)}},_={initClient:()=>({type:b.INIT_CLIENT,payload:{effect:function(e){return e.isServer?{display:"grid"}:{display:e.LocalStorage.get(P)||"grid"}}}}),loadInitialQuery:e=>{const[,t=""]=e.split("?"),r=(0,p.Z_)("q",v.query,t),i=A(e);return{type:b.LOAD_INITIAL_QUERY,payload:{query:r,filters:i,effect:function({Prefetching:t}){const r=t.get(e);if(!r)throw new Error(`No search response in prefetchedData for query "${e}"`);const{results:i=[],cursors:n={next:null,previous:null}}=r,{entities:o,result:a}=(0,s.Fv)(i,[l.o4]);return{entities:o,list:a,cursors:n}}}}},loadInitialFilters:e=>{const[,t=""]=e.split("?"),r=(0,p.Z_)("q",v.query,t),i=A(e);return{type:b.LOAD_INITIAL_FILTERS,payload:{query:r,filters:i}}},loadInitialDisplay:()=>({type:b.LOAD_INITIAL_DISPLAY,payload:{effect:function(e){return e.isServer?{display:v.display}:{display:e.LocalStorage.get(P)||v.display}}}}),loadFirstPage:e=>(0,a.GZ)({type:b.FIRST,payload:{effect:function({Api:t,getState:r}){return R(e,t,S,r())}}}),loadNextPage:e=>(0,a.GZ)({type:b.NEXT,payload:{effect:function({Api:t,getState:r}){const{next:i}=S.cursors(r());return R(e,t,S,r(),i)}}}),loadPreviousPage:e=>(0,a.GZ)({type:b.PREVIOUS,payload:{effect:function({Api:t,getState:r}){const{previous:i}=S.cursors(r());return R(e,t,S,r(),i)}}}),updateQuery:e=>({type:b.UPDATE_QUERY,payload:{query:e}}),updateDisplay:e=>(0,a.GZ)({type:b.UPDATE_DISPLAY,payload:{display:e,effect:t=>{t.isServer||t.LocalStorage.set(P,e)}}}),updateFilters:e=>({type:b.UPDATE_FILTERS,payload:{filters:e}}),resetFilters:()=>_.updateFilters(v.filters),deleteModel:e=>(0,a.GZ)({type:b.DELETE,payload:{uid:e,effect:({Prefetching:e})=>{e.invalidateAllMatchRegExp(/^\/i\/orgs\/\w*\/models.*/),e.invalidateAllMatchRegExp(/^\/i\/orgs\/\w*\/projects.*/)}}}),addModel:e=>({type:b.ADD_MODEL,payload:{modelUid:e}})}},"3wYL":(e,t,r)=>{"use strict";r.d(t,{E3:()=>d,I6:()=>u,Nw:()=>f,UI:()=>g,V5:()=>l,gb:()=>c,rN:()=>h,wl:()=>p});var i=r("NQ1V"),n=r("MBtD"),o=r("HGbS");function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){(0,i.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}let c,l;!function(e){e.None="none",e.Refresh="refresh",e.Next="next",e.Previous="previous"}(c||(c={})),function(e){e.PREPEND="pagination.PREPEND",e.RESET="pagination.RESET",e.MAP="pagination.MAP",e.FIRST="pagination.FIRST",e.NEXT="pagination.NEXT",e.PREVIOUS="pagination.PREVIOUS"}(l||(l={}));const d={list:[],cursors:{next:null,previous:null},loading:c.None},u=(0,n.Lq)(d,{[l.FIRST]:(e,t)=>t.effect.caseOf({Pending:()=>a(a({},e),{},{loading:c.Refresh}),Rejected:()=>a(a({},e),{},{loading:c.None}),Resolved:({list:t,cursors:r})=>a(a({},e),{},{cursors:r,list:t,loading:c.None})}),[l.NEXT]:(e,t)=>t.effect.caseOf({Pending:()=>a(a({},e),{},{loading:c.Next}),Rejected:()=>a(a({},e),{},{loading:c.None}),Resolved:({list:t,cursors:r})=>a(a({},e),{},{cursors:a(a({},e.cursors),{},{next:r.next}),list:[...e.list,...t],loading:c.None})}),[l.PREVIOUS]:(e,t)=>t.effect.caseOf({Pending:()=>a(a({},e),{},{loading:c.Previous}),Rejected:()=>a(a({},e),{},{loading:c.None}),Resolved:({list:t,cursors:r})=>a(a({},e),{},{cursors:a(a({},e.cursors),{},{previous:r.previous}),list:[...t,...e.list],loading:c.None})}),[l.PREPEND]:(e,t)=>a(a({},e),{},{list:[t.item,...e.list]}),[l.RESET]:()=>d,[l.MAP]:(e,t)=>a(a({},e),{},{list:e.list.map(t.mapper)})}),p={list:e=>e.list,cursors:e=>e.cursors,loading:e=>e.loading,isLoading:e=>e.loading!==c.None,hasNextPage:e=>Boolean(e.cursors.next),hasPreviousPage:e=>{try{return Boolean(e.cursors.previous)}catch(t){return console.error("Issue in hasPreviousPage with state:",e),!1}}},f={first:e=>({type:l.FIRST,payload:{effect:e}}),next:e=>({type:l.NEXT,payload:{effect:t=>e(t,p.cursors(t.getState()).next)}}),previous:e=>({type:l.PREVIOUS,payload:{effect:t=>e(t,p.cursors(t.getState()).previous)}}),firstPending:()=>({type:l.FIRST,payload:{effect:new o.JR},meta:{effectId:"",isEffect:!0}}),firstRejected:(e=new Error)=>({type:l.FIRST,payload:{effect:new o.WR(e)},meta:{effectId:"",isEffect:!0}}),firstResolved:({list:e,cursors:t})=>({type:l.FIRST,payload:{effect:new o.Kv({list:e,cursors:t})},meta:{effectId:"",isEffect:!0}}),nextPending:()=>({type:l.NEXT,payload:{effect:new o.JR},meta:{effectId:"",isEffect:!0}}),nextRejected:(e=new Error)=>({type:l.NEXT,payload:{effect:new o.WR(e)},meta:{effectId:"",isEffect:!0}}),nextResolved:({list:e,cursors:t})=>({type:l.NEXT,payload:{effect:new o.Kv({list:e,cursors:t})},meta:{effectId:"",isEffect:!0}}),previousPending:()=>({type:l.PREVIOUS,payload:{effect:new o.JR},meta:{effectId:"",isEffect:!0}}),previousRejected:(e=new Error)=>({type:l.PREVIOUS,payload:{effect:new o.WR(e)},meta:{effectId:"",isEffect:!0}}),previousResolved:({list:e,cursors:t})=>({type:l.PREVIOUS,payload:{effect:new o.Kv({list:e,cursors:t})},meta:{effectId:"",isEffect:!0}}),prepend:e=>({type:l.PREPEND,payload:{item:e}}),reset:()=>({type:l.RESET,payload:{}}),map:e=>({type:l.MAP,payload:{mapper:e}})},h=(e,t,r)=>{switch(e){case l.FIRST:return u(t,r.caseOf({Pending:()=>f.firstPending(),Rejected:e=>f.firstRejected(e),Resolved:e=>f.firstResolved(e)}));case l.NEXT:return u(t,r.caseOf({Pending:()=>f.nextPending(),Rejected:e=>f.nextRejected(e),Resolved:e=>f.nextResolved(e)}));case l.PREVIOUS:return u(t,r.caseOf({Pending:()=>f.previousPending(),Rejected:e=>f.previousRejected(e),Resolved:e=>f.previousResolved(e)}))}},g=(e,t)=>u(e,f.map(t))},tNHJ:(e,t,r)=>{"use strict";r.d(t,{E3:()=>b,I6:()=>v,Nw:()=>R,V5:()=>P,wl:()=>w});var i=r("3MRe"),n=r("NQ1V"),o=r("/Ybn"),s=r("rEmB"),a=r("4fae"),c=r("HGbS"),l=r("3wYL"),d=r("7Uq8"),u=r("MBtD"),p=r("ZOfx"),f=r("JBVY"),h=r("ZzYo");const g=["animated","restricted","pbr","rigged","maxPrice","minPrice","maxFaceCount","minFaceCount","sortBy"],y=["q"];function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const O=e=>E(E({},e),{},{list:(0,o.Z)(e.list)});let P;!function(e){e.UPDATE_QUERY="storeSearch.UPDATE_QUERY",e.UPDATE_FILTERS="storeSearch.UPDATE_FILTERS",e.LOAD_INITIAL_QUERY="storeSearch.LOAD_INITIAL_QUERY",e.FIRST="storeSearch.FIRST",e.NEXT="storeSearch.NEXT",e.PREVIOUS="storeSearch.PREVIOUS"}(P||(P={}));const b={query:"",filters:{sortBy:"-relevance",animated:!1,rigged:!1,pbr:!1,restricted:!1,categories:[],minFaceCount:p.hX,maxFaceCount:p.jP,minRating:"",fileFormats:[],minPrice:p.ud,maxPrice:p.d5,licenses:[]},pagination:l.E3},v=(0,u.Lq)(b,{[P.UPDATE_QUERY]:(e,t)=>E(E({},e),{},{query:t.query}),[P.UPDATE_FILTERS]:(e,t)=>E(E({},e),{},{filters:E(E({},e.filters),t.filters)}),[P.LOAD_INITIAL_QUERY]:(e,t)=>t.effect.caseOf({Pending:()=>E(E({},e),{},{query:t.query,filters:t.filters}),Rejected:()=>e,Resolved:t=>E(E({},e),{},{pagination:l.I6(e.pagination,l.Nw.firstResolved(t))})}),[P.FIRST]:(e,t)=>E(E({},e),{},{pagination:l.rN(l.V5.FIRST,e.pagination,t.effect)}),[P.NEXT]:(e,t)=>E(E({},e),{},{pagination:O(l.rN(l.V5.NEXT,e.pagination,t.effect))}),[P.PREVIOUS]:(e,t)=>E(E({},e),{},{pagination:O(l.rN(l.V5.PREVIOUS,e.pagination,t.effect))})}),w={query:e=>e.storeSearch.query,filters:e=>e.storeSearch.filters,hasDefaultFilters:e=>Object.entries(w.filters(e)).every((([e,t])=>(0,s.Z)(t,b.filters[e]))),models:e=>(0,a.cY)(l.wl.list(e.storeSearch.pagination),[d.o4],e.entities),cursors:e=>l.wl.cursors(e.storeSearch.pagination),isLoading:e=>l.wl.isLoading(e.storeSearch.pagination),loading:e=>l.wl.loading(e.storeSearch.pagination),hasNextPage:e=>l.wl.hasNextPage(e.storeSearch.pagination),hasPreviousPage:e=>l.wl.hasPreviousPage(e.storeSearch.pagination)},S=async(e,t,r=null)=>{const n=w.filters(t),o=h.ZP.getSearchQueryParams(w.query(t)),{q:s}=o,c=(0,i.Z)(o,y),{results:l,cursors:u}=await e.searchModels(E(E(E({},((e,t)=>{let{animated:r,restricted:n,pbr:o,rigged:s,maxPrice:a,minPrice:c,maxFaceCount:l,minFaceCount:d,sortBy:u}=t;return E(E({},(0,i.Z)(t,g)),{},{q:e,maxPrice:a===p.d5?void 0:a,minPrice:c===p.ud?void 0:c,maxFaceCount:l===p.jP?void 0:l,minFaceCount:d===p.hX?void 0:d,count:24,sortBy:u,processingStatus:"succeeded",animated:r||void 0,restricted:n||void 0,pbr:o||void 0,rigged:s||void 0})})(s,n)),c),{},{cursor:r,inStore:!0})),{entities:f,result:m}=(0,a.Fv)(l,[d.o4]);return{entities:f,list:m,cursors:u}},R={loadInitialQuery:e=>{const[,t=""]=e.split("?"),r=(0,f.Z_)("sort_by",b.filters.sortBy,t),i=(0,f.Z_)("user","",t),n=[i?`user:${i} `:"",(0,f.j2)("tags",[],t).map((e=>`tag:${e}`)).join(" "),(0,f.Z_)("q","",t)].filter(Boolean).join(" "),o={sortBy:r,animated:(0,f.Xg)("animated",b.filters.animated,t),rigged:(0,f.Xg)("rigged",b.filters.rigged,t),pbr:(0,f.Xg)("pbr",b.filters.pbr,t),restricted:(0,f.Xg)("restricted",b.filters.restricted,t),categories:(0,f.j2)("categories",b.filters.categories,t),minFaceCount:(0,f.Rx)("min_face_count",p.hX,t),maxFaceCount:(0,f.Rx)("max_face_count",p.jP,t),minRating:(0,f.Z_)("min_rating",b.filters.minRating,t),fileFormats:(0,f.j2)("file_formats",b.filters.fileFormats,t),minPrice:(0,f.Rx)("min_price",p.ud,t),maxPrice:(0,f.Rx)("max_price",p.d5,t),licenses:(0,f.j2)("licenses",b.filters.licenses,t)};return{type:P.LOAD_INITIAL_QUERY,payload:{query:n,filters:o,effect:function({Prefetching:t}){const r=t.get(e);if(!r)throw new Error(`No search response in prefetchedData for query "${e}"`);const{results:i=[],cursors:n={next:null,previous:null}}=r,{entities:o,result:s}=(0,a.Fv)(i,[d.o4]);return{entities:o,list:s,cursors:n}}}}},loadFirstPage:()=>(0,c.GZ)({type:P.FIRST,payload:{effect:function({Api:e,getState:t}){return S(e,t())}}}),loadNextPage:()=>(0,c.GZ)({type:P.NEXT,payload:{effect:function({Api:e,getState:t}){const{next:r}=w.cursors(t());return S(e,t(),r)}}}),loadPreviousPage:()=>(0,c.GZ)({type:P.PREVIOUS,payload:{effect:function({Api:e,getState:t}){const{previous:r}=w.cursors(t());return S(e,t(),r)}}}),updateQuery:e=>({type:P.UPDATE_QUERY,payload:{query:e}}),updateFilters:e=>({type:P.UPDATE_FILTERS,payload:{filters:e}}),resetFilters:()=>R.updateFilters(b.filters)}},"7Uq8":(e,t,r)=>{"use strict";r.d(t,{EA:()=>a,GX:()=>A,JA:()=>h,UI:()=>c,Vl:()=>s,W3:()=>o,gW:()=>p,hJ:()=>u,j7:()=>l,lw:()=>_,o4:()=>d,wA:()=>f});var i=r("4fae");const n=(e,{id:t="uid"}={})=>new i.fK.Entity(e,{},{idAttribute:t}),o=n("categories"),s=n("licenses"),a=n("users"),c=n("comments"),l=n("reviews"),d=n("models"),u=n("collections"),p=n("orgs"),f=n("orgProjects"),h=n("orgMembers"),g=n("uploadActivities"),y=n("collectionActivities"),m=n("collectActivities"),E=n("commentActivities"),O=n("mentionActivities"),P=n("followActivities"),b=n("subscribeActivities"),v=n("likeActivities"),w=n("staffpickActivities"),S=n("reviewActivities"),R=n("blogpostActivities"),A=n("materials");g.define({obj:d,actor:a}),y.define({obj:u,actor:a}),m.define({actor:a,obj:d,target:u}),E.define({obj:c,actor:a,target:d}),O.define({obj:c,actor:a,target:d}),P.define({actor:a,target:a}),b.define({actor:a,target:u}),v.define({actor:a,target:d}),w.define({obj:d,actor:a}),S.define({obj:l,actor:a,target:d}),a.define({models:[d]}),c.define({user:a}),l.define({user:a}),d.define({user:a,license:s,categories:[o],org:p,orgProject:f}),u.define({user:a}),A.define({user:a,org:p,orgProject:f}),h.define({user:a}),f.define({org:p});const _=new i.fK.Union({upload:g,collection:y,collect:m,comment:E,mention:O,follow:P,subscribe:b,like:v,staffpick:w,review:S,blogpost:R},"verb")},MBtD:(e,t,r)=>{"use strict";r.d(t,{Lq:()=>n,g0:()=>o,se:()=>s});var i=r("zIYZ");const n=(e,t)=>(r=e,i)=>t[i.type]?t[i.type](r,i.payload):r,o=(...e)=>(t,r)=>e.reduceRight(((e,t)=>t(e,r)),t),s=(e,t,r)=>{let n=t(e.getState());return e.subscribe((()=>{const o=t(e.getState());var s,a;(s=n)===(a=o)||(0,i.vM)(s)&&(0,i.vM)(a)&&(0,i.w8)(s,a)||(r(o),n=o)}))}},QbBG:(e,t,r)=>{"use strict";r.d(t,{Z:()=>y});var i=r("NQ1V"),n=r("Hjnd"),o=r.n(n),s=r("luBU"),a=r("zIYZ"),c=r("lotc"),l=r("nv4P"),d=r("E9rg"),u=r("W4lT");const p={name:"WithRefs",refs:{},initialize:function(){this.refreshRefs()},afterRender:function(){this.refreshRefs()},refreshRefs:function(){this.refs=(0,u.qo)(this.$("[data-ref]")).reduce((function(e,t){var r=t.getAttribute("data-ref");return e["$"+r]=o()(t),e[r]=t,e}),{})}};function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){(0,i.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var g=l.Z.extend({displayName:"Component",mixins:[d.Z,p],isComponent:!0,setElement:function(){return l.Z.prototype.setElement.apply(this,arguments),this.isRenderedManually()&&(this.$el.attr("data-component")||this.$el.attr("data-component",""),this.$el.attr("id")||this.$el.attr("id",this.cid)),this},$:function(e){var t=this.$el;return this.$el.find(e).filter((function(){return o()(this).parent().closest("[data-component]").is(t)}))},delegate:function(e,t,r){var i=this.$el;return this.$el.on(e+".delegateEvents"+this.cid,t,(function(e){o()(e.currentTarget).closest("[data-component]").is(i)&&r.apply(this,arguments)})),this},_removeElement:function(){this.isRenderedManually()&&this.$el.html("")},isRenderedManually:function(){return!this.options._isChildOfAComponent},getItemKey:function(e,t,r){var i;return(!e.options||(null==(i=e.options.key)||""===i)||r.filter((t=>t.options.key===e.options.key)).length>1)&&console.error('Each child in an array or iterator should have a unique "key" option. Check the render method of `'+this.displayName+"`."),e.options&&e.options.key||t},normalizeChildConfig:function(e,t){var r=t||{};return(0,c.Y)({viewClass:c.Z.func.isRequired,options:c.Z.object},r,"child property",this.displayName+".children."+e),h(h({viewClass:g},r),{},{options:h(h({},r.options),{},{_isChildOfAComponent:!0,el:void 0})})},_getLazyComponent:function(e,t){return function(){var r=this.updateChildConfig(e,this.normalizeChildConfig(e,t)).refreshChild(e).getChild(e);return{isComponentElement:!0,template:()=>{const t=this.setChildOptions(e).getChild(e);return t.isMounted?t.shouldUpdate?t._template:"":(t._template=t.template(),t._template)},cid:r.cid,displayName:r.displayName}}.bind(this)},createChildComponent:function(e,t){return Array.isArray(t)?t.map(((r,i)=>{const n=this.getItemKey(r,i,t);return this._getLazyComponent(e+n,r)})):this._getLazyComponent(e,t)},createChildrenComponents:function(e){return(0,s.Z)(e,function(e,t){return this.createChildComponent(t,e)}.bind(this))},beforeRender:function(){l.Z.prototype.beforeRender.apply(this,arguments),Object.keys(this.children).map(this.getChild.bind(this)).filter((0,a.vg)("isComponent")).forEach((function(e){e.beforeRender()}))},removeUnmountedChildren:function(e){Object.keys(this.children).filter(function(t){return this.getChild(t).isComponent&&!e.match('id="'+this.getChild(t).cid+'"')}.bind(this)).forEach(this.removeChild.bind(this))},onViewUpdate:function(e,t,r,i,n,o){e&&(o||this.isRenderedManually()?(this.render(),this.viewDidUpdate(t,r)):(this._template=this.template(),this.removeUnmountedChildren(this._template),this._executeAfterRender=this.viewDidUpdate.bind(this,t,r)))},render:function(){this._template=this.template(),this.removeUnmountedChildren(this._template),this.renderDiff(this._template)},afterRender:function(){l.Z.prototype.afterRender.apply(this,arguments),Object.keys(this.children).map(this.getChild.bind(this)).filter((0,a.vg)("isComponent")).map((e=>{const t=this.el.querySelector(`#${e.cid}`);return t&&e.el!==t&&e.setElement(t),e})).forEach((e=>{e.afterRender()})),this._executeAfterRender&&(this._executeAfterRender(),this._executeAfterRender=null)}});const y=g},ZOfx:(e,t,r)=>{"use strict";r.d(t,{d5:()=>o,hX:()=>s,jP:()=>a,ud:()=>n});var i=r("hrlB");const n=(0,r("8Tm6").Z)(i.Z.modelMinPrice,-2),o=5e4,s=0,a=250001},W4lT:(e,t,r)=>{"use strict";r.d(t,{qo:()=>o,sD:()=>a,sE:()=>s,zy:()=>n});var i=r("Vnou");function n(e,t,r){return e.filter(r)[0]||t}function o(e){return Array.prototype.slice.call(e)}function s(e,t){const r=e.find((e=>Boolean(t(e))));return void 0===r?i.Y:(0,i.G)(r)}function a(e){return e[Math.floor(Math.random()*e.length)]}},p5Lb:(e,t,r)=>{"use strict";r.d(t,{$B:()=>P,A6:()=>a,FY:()=>f,NM:()=>y,OT:()=>b,Qv:()=>n,T4:()=>o,Y8:()=>m,Z5:()=>O,eK:()=>u,li:()=>s,sH:()=>d,vX:()=>h,yI:()=>p,zo:()=>E,zy:()=>g});var i=r("6qPL");function n(e){return e?String(e).split("").reduce((function(e,t,r,i){const n=i.length-r;return e+(!r||n%3?t:","+t)}),""):"0"}function o(e){const t=String(Math.round(e)).split(""),r=t.filter(((e,r)=>r>=t.length-2)).join("");return`$${n(t.filter(((e,r)=>r<t.length-2)).join("")||"0")}.${r.length<2?"0":""}${r}`}const s=e=>{const t=e/100;return(0,i.Z)(t)?"$"+n(t):o(e)};function a(e=0,{numberOnly:t=!1}={}){return h(0,5,Math.round(10*Number(e))/10)+(t?"":"/5")}function c(e,t){if(t<=0)return e;const r=Math.pow(10,t),i=e*r;return Math.round(i)/r}const l=["k","M","B","T","P"];function d(e){if(!e||"null"===e||"0"===e)return"0";const t="string"==typeof e?parseFloat(e):e,r=[3,6,9,12,15];if(Object.is(t,NaN))return"Unknown";const i=t<0?"-":"",n=Math.abs(t);if(n<1e3)return`${t}`;for(let e=0,t=r.length;e<t;++e){const t=c(n/Math.pow(10,r[e]),1);if(t<1e3){const r=Math.floor(t);return t!==r?i+t+l[e]:i+r+l[e]}}return t<0?"1000- P":"1000+ P"}function u(e){const t=Math.pow(Math.abs(e),1/3);return e<0?-t:t}function p(e,t,r){return(r-e)/(t-e)}function f(e,t,r){return r*(t-e)+e}function h(e,t,r){return Math.max(e,Math.min(t,r))}function g([e,t],[r,i],n){return r+function(e,t,r){return(h(e,t,r)-e)/(t-e)}(e,t,n)*(i-r)}function y(e,t){const r=t||1;return Math.round(e/r)*r}function m(e){return e.reduce((function(t,r){return t+r/e.length}),0)}function E(e,t,r){if(!e.length)return null;if(1===e.length)return e[0];const i=r||{},n=function(r){return i[r]=void 0===i[r]?t(e[r]):i[r],i[r]};if(2===e.length)return Math.abs(n(0))<Math.abs(n(1))?e[0]:e[1];const o=Math.floor(e.length/2);return E(n(o)>0?e.slice(0,o+1):e.slice(o),t,i)}const O={linear:function(e){return e},easeInQuad:function(e){return e*e},easeInCubic:function(e){return e*e*e}};function P(e,t){const r=Math.floor(e),i=Math.floor(e/1024),n=Math.floor(e/1048576),o=Math.floor(e/1073741824);return t?o?Math.round(n/100)/10+"GB":n?Math.round(i/100)/10+"MB":i?Math.round(r/100)/10+"kB":r+"B":o?o+"GB":n?n+"MB":i?i+"kB":r+"B"}function b(e,t,r){return e.start===t&&e.end>=r?"Any":e.start===t?"Up to "+d(e.end):e.start>=r?d(e.start)+"+":d(e.start)+" to "+d(e.end)}},ZzYo:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>l});var i=r("NQ1V");function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){(0,i.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const s=["tag","user"];function a(e){return{tags:e.filter((e=>"tag"===e.command)).map((e=>e.term.trim())),user:e.filter((e=>"user"===e.command)).map((e=>e.term.trim()))[0]}}function c(e){const t=/[^\s]+:[^\s]+/g;return{originalTerm:e,commands:(e.match(t)||[]).map((e=>({command:e.split(":")[0],term:e.split(":")[1]}))).filter((e=>s.includes(e.command))),term:e.replace(t,(e=>s.includes(e.split(":")[0])?" ":e)).trim()}}const l={commandsToQueryParams:a,parseQuery:c,getSearchQueryParams:function(e){const t=c(e);return o(o({},a(t.commands)),{},{q:t.term})}}},RXbz:(e,t,r)=>{"use strict";function i(){var e;try{if(!(e=window.location!==window.parent.location?document.referrer:document.location.href))throw new Error("url is not defined")}catch(t){e=document.referrer}var t=document.createElement("a");return t.href=e,t}r.d(t,{Z:()=>i})},XXsV:(e,t,r)=>{"use strict";r.d(t,{K:()=>n});var i=r("nC8o");const n=(()=>{const e=new Set;return{add:function(t){e.add(t)},delete:function(t){e.delete(t)},getTopPopup:function(){return(0,i.Z)([...e])},isEmpty:function(){return 0===e.size}}})()},"/c5M":(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var i=r("NDk9"),n=r("DGrh"),o=r("UbIu"),s=r("hrlB"),a=r("RyS8"),c=r("eKF4");const l="No Error Message",d={},u={client:i,debounceMap:{},install:function(){if("1"!==new URLSearchParams(document.location.search).get("disable_sentry")&&s.Z.useSentry){var e=c.Z.me();n.S1({beforeSend:this.onBeforeSend.bind(this),release:s.Z.version,denyUrls:[/connect\.facebook\.net\/en_US\/fbevents\.js/,/extensions\//i,/^chrome:\/\//i,/^moz-extension:\/\//i,/^chrome-extension:\/\//i,/webtoolbar\//i,/otBannerSdk/i],ignoreErrors:["_avast_submit","Error when downloading url","Cannot read properties of undefined (reading 'u","Failed to execute 'getProgramParameter'","Cannot read property 'active' of undefined","Cannot read property 'uReflection' of undefined","Cannot read property 'getMatrixPalette' of undefined","InvalidStateError: Failed to execute 'end' on 'XRSession': XRSession has already ended.","Cannot read property 'uPointSize' of undefined","Cannot read properties of undefined (reading 'uReflection')","Cannot read properties of undefined (reading 'uPointSize')","Cannot read properties of undefined (reading 'active')","Cannot read properties of undefined (reading 0)","Failed to execute 'getProgramParameter' on 'WebGLRenderingContext': parameter 1 is not of type 'WebGLProgram'.","InvalidStateError: Failed to execute 'getPose' on 'XRFrame': XRFrame access outside the callback that produced it is invalid.","Object Not Found Matching Id","can't find property for object","null is not an object (evaluating 'ext.MAX_TEXTURE_MAX_ANISOTROPY_EXT'","undefined is not an object (evaluating 'window.__pad.performLoop')","Non-Error promise rejection captured with keys: _dirty, _height, _imageObject","Non-Error promise rejection captured with keys: currentTarget, detail, isTrusted, target",/.*Timeout$/,"The play method is not allowed by the user agent or the platform in the current context, possibly because the user denied permission.","ResizeObserver loop completed with undelivered notifications.","Failed to execute 'removeChild' on 'Node': The node to be removed is not a child of this node.","Hydration failed because the initial UI does not match what was rendered on the server.","Text content does not match server-rendered HTML."],dsn:s.Z.sentryDSN}),e.isAuthenticated()&&o.e((t=>{t.setUser({id:e.get("uid")})}))}else console.warn("Sentry was not installed ; it is manually disabled.");return i},onBeforeSend:function(e,t){var i,n,o,s;const c=`${window.innerWidth}x${window.innerHeight}`;if(e.tags?e.tags["browser.resolution"]=c:e.tags={"browser.resolution":c},void 0===e.exception||void 0===e.exception.values||!e.exception.values.length||!e.exception.values[0])return null;const u=e.exception.values[0];if((0,a.dH)(u))return null;if("UnhandledRejection"===u.type&&null!=t&&null!==(i=t.data)&&void 0!==i&&i.stack&&(!t.data.stack.message||!t.data.stack.name))return null;if("ChunkLoadError"===u.type)return null;if(null!=u&&null!==(n=u.stacktrace)&&void 0!==n&&null!==(o=n.frames)&&void 0!==o&&o.some((e=>{var t;return null===(t=e.filename)||void 0===t?void 0:t.includes("osgjs")})))return null;const p=null==t?void 0:t.originalException,f=p?"string"==typeof p?p:p.toString():"";if(p&&(0,a.dH)(p))return null;if(f&&f in d)return null;const h=(p&&("string"==typeof p?p:p.message)||u.value||l).replace("Error: ","");if(h.indexOf("undefined")&&-1!==h.indexOf("window.Map"))return null;var g=Date.now(),y="";if(null!==(s=u.stacktrace)&&void 0!==s&&s.frames)try{y=u.stacktrace.frames.reduce((function(e,t){return t?e+t.filename+t.lineno+";":e}),"")}catch(e){}var m=function(e){var t=0;if(0===e.length)return t;for(var r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t&=t;return t}(h+y),E=h!==l&&g-this.debounceMap[m]<500;if(this.debounceMap[m]=Date.now(),E)return null;if((0,r("CTpj").Z)()&&window.MSInputMethodContext&&document.documentMode)return null;var O=navigator.userAgent.toLowerCase();return-1!==O.indexOf("msie")&&9===parseInt(O.split("msie")[1])?null:(d[f]=!0,setTimeout((()=>{delete d[f]}),1e5),e)}}},YpOo:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var i,n=r("D4hk"),o=r("sQwH"),s=r("3MRe"),a=r("3Z9q"),c=r("X40V");const l=["title","className","isClosable","children","footer","onClose"],d=e=>{let{title:t,className:r="",isClosable:d=!0,children:u,footer:p,onClose:f=(()=>{})}=e,h=(0,s.Z)(e,l);return a.createElement("section",(0,n.Z)({},h,{className:(0,c.AK)("c-popup",r)}),(0,o.Z)("header",{className:"c-popup__header"},void 0,t&&(0,o.Z)("div",{className:"c-popup__title"},void 0,t),d&&(0,o.Z)("div",{className:"c-popup__actions"},void 0,(0,o.Z)("a",{"aria-label":"Close popup",className:"c-popup__close",onClick:f,"data-selenium":"close-popup"},void 0,i||(i=(0,o.Z)("i",{className:"fa-regular fa-times"}))))),(0,o.Z)("div",{className:"c-popup__content"},void 0,u),p&&(0,o.Z)("footer",{className:"c-popup__footer"},void 0,p))}},l1Cg:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var i=r("D4hk"),n=r("3MRe"),o=r("3Z9q"),s=r("X40V");const a=["type","className"];function c(e){let{type:t,className:r=""}=e,c=(0,n.Z)(e,a);return o.createElement("div",(0,i.Z)({className:(0,s.AK)("c-spinner",r,`--${t}`)},c))}},"ws/s":(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var i=r("sQwH"),n=r("3Z9q"),o=r("IDtV"),s=r("l1Cg"),a=r("YpOo");const c=(0,o.Z)((({title:e,className:t,width:r,isClosable:o,message:c})=>n.createElement(a.Z,{title:e,className:t,width:r,isClosable:o},(0,i.Z)("div",{className:"c-loading-popup"},void 0,(0,i.Z)(s.Z,{type:"small",style:{margin:"auto"}}),(0,i.Z)("p",{className:"c-loading-popup__message"},void 0,c)))))},"Z7/R":(e,t,r)=>{"use strict";r.d(t,{z:()=>i});const i={projectList:e=>new RegExp(`^/i/orgs/${e}/projects.*`),modelsList:e=>new RegExp(`^/i/orgs/${e}/models.*`),membersList:e=>new RegExp(`^/i/orgs/${e}/members.*`),modelSearch:e=>new RegExp(`^/i/orgs/${e}/search.*&type=models`),folderSearch:e=>new RegExp(`^/i/orgs/${e}/search.*&type=projects`),org:e=>new RegExp(`^/i/users/me/orgs/@${e}`),project:(e,t)=>new RegExp(`^/i/orgs/${e}/projects/${t}`)}},dW16:()=>{(window.nunjucksPrecompiled=window.nunjucksPrecompiled||{})["front/macros/components/atoms/button.jinja"]={root:function(e,t,r,i,n){var o="";try{var s=i.makeMacro([],["options"],(function(n){var o=r;r=new i.Frame,(n=n||{}).hasOwnProperty("caller")&&r.set("caller",n.caller),r.set("options",n.hasOwnProperty("options")?n.options:{});var s,a="";return s=e.getFilter("merge").call(t,{attrs:{disabled:!0,classNames:{button:!0,"btn-medium":!0}},text:"",subtext:"",iconAttrs:{},loading:!1,hasIcon:!1},i.contextOrFrameLookup(t,r,"options")),r.set("options",s,!0),r.topLevel&&t.setVariable("options",s),r.topLevel&&t.addExport("options",s),a+="<button ",a+=i.suppressValue(e.getFilter("attributes").call(t,i.memberLookup(i.contextOrFrameLookup(t,r,"options"),"attrs")),e.opts.autoescape),a+=">",i.memberLookup(i.contextOrFrameLookup(t,r,"options"),"loading")?a+='<span class="spinner"></span>':i.memberLookup(i.contextOrFrameLookup(t,r,"options"),"hasIcon")&&(a+="<span ",a+=i.suppressValue(e.getFilter("attributes").call(t,i.memberLookup(i.contextOrFrameLookup(t,r,"options"),"iconAttrs")),e.opts.autoescape),a+="></span>"),i.memberLookup(i.contextOrFrameLookup(t,r,"options"),"subtext")&&(a+='<span class="button__text-container">'),a+=i.suppressValue(i.memberLookup(i.contextOrFrameLookup(t,r,"options"),"text"),e.opts.autoescape),i.memberLookup(i.contextOrFrameLookup(t,r,"options"),"subtext")&&(a+='<span class="button__subtext">',a+=i.suppressValue(i.memberLookup(i.contextOrFrameLookup(t,r,"options"),"subtext"),e.opts.autoescape),a+="</span>"),i.memberLookup(i.contextOrFrameLookup(t,r,"options"),"subtext")&&(a+="</span>"),a+="</button>\n",r=o,new i.SafeString(a)}));t.addExport("button"),t.setVariable("button",s),n(null,o+="\n")}catch(e){n(i.handleError(e,null,null))}}}},h77i:(e,t,r)=>{"use strict";r.r(t),r.d(t,{all:()=>he,any:()=>ge,bind:()=>g.Z,chain:()=>pe.a,clone:()=>y.Z,collect:()=>ye,contains:()=>me,countBy:()=>m.Z,create:()=>E.Z,default:()=>Ae,defaults:()=>O.Z,defer:()=>P.Z,detect:()=>Oe,difference:()=>b.Z,drop:()=>v.Z,each:()=>w.Z,escape:()=>S.Z,every:()=>o.Z,extend:()=>fe,filter:()=>h.Z,find:()=>l.Z,findIndex:()=>R.Z,findLastIndex:()=>A.Z,first:()=>_.Z,foldl:()=>Pe,foldr:()=>be,forEach:()=>w.Z,functions:()=>T.Z,groupBy:()=>I.Z,has:()=>D.Z,head:()=>_.Z,include:()=>Ee,includes:()=>c.Z,indexBy:()=>ve,indexOf:()=>j.Z,initial:()=>L.Z,inject:()=>we,invert:()=>C.Z,invoke:()=>Z.Z,isArray:()=>U.Z,isEmpty:()=>N.Z,isEqual:()=>M.Z,isFunction:()=>F.Z,isObject:()=>x.Z,isRegExp:()=>k.Z,isString:()=>G.Z,iteratee:()=>V.Z,keys:()=>B.Z,last:()=>Y.Z,lastIndexOf:()=>q.Z,map:()=>a.Z,matches:()=>Q.Z,max:()=>H.Z,min:()=>X.Z,omit:()=>n.Z,once:()=>z.Z,pairs:()=>Se,partition:()=>W.Z,pick:()=>$.Z,reduce:()=>d.Z,reduceRight:()=>u.Z,reject:()=>J.Z,rest:()=>K.Z,result:()=>ee.Z,sample:()=>te.Z,select:()=>Re,shuffle:()=>re.Z,size:()=>ie.Z,some:()=>s.Z,sortBy:()=>ne.Z,tail:()=>oe.Z,take:()=>se.Z,toArray:()=>ae.Z,uniqueId:()=>ce.Z,values:()=>le.Z,without:()=>de.Z});var i=r("k46e"),n=r("MndH"),o=r("s782"),s=r("F2xM"),a=r("mv18"),c=r("RYQm"),l=r("X9mO"),d=r("wgEG"),u=r("Zwtg"),p=r("EaiE"),f=r("uulm"),h=r("IAxr"),g=r("aWGP"),y=r("pql+"),m=r("2PUP"),E=r("+cla"),O=r("Wuy/"),P=r("bvKJ"),b=r("xWHa"),v=r("lEOI"),w=r("lqp/"),S=r("RyuJ"),R=r("3+4K"),A=r("VLpJ"),_=r("JGf+"),T=r("tMCM"),I=r("uIBN"),D=r("yvsd"),j=r("lg6G"),L=r("1ntn"),C=r("QX1t"),Z=r("3Iu1"),U=r("H0e1"),N=r("D7W8"),M=r("rEmB"),F=r("Sbzs"),x=r("T4DV"),k=r("DOBp"),G=r("BQ53"),V=r("1JYX"),B=r("OtVX"),Y=r("nC8o"),q=r("cBfo"),Q=r("XRNO"),H=r("ap3t"),X=r("QeRx"),z=r("EbOf"),W=r("XzeI"),$=r("R1Z3"),J=r("+++C"),K=r("afp6"),ee=r("jQDz"),te=r("f9IZ"),re=r("/p6y"),ie=r("ewgg"),ne=r("UZbZ"),oe=r("768V"),se=r("F3G7"),ae=r("2zhU"),ce=r("AyNe"),le=r("AuQH"),de=r("3K6F"),ue=r("XWdI"),pe=r.n(ue);const fe=(e,...t)=>"function"==typeof e?(0,i.Z)(e,...t.map((e=>(0,n.Z)(e,["name"])))):(0,i.Z)(e,...t),he=o.Z,ge=s.Z,ye=a.Z,me=c.Z,Ee=c.Z,Oe=l.Z,Pe=d.Z,be=u.Z,ve=p.Z,we=d.Z,Se=f.Z,Re=h.Z,Ae={all:he,any:ge,bind:g.Z,chain:pe(),clone:y.Z,collect:ye,contains:me,countBy:m.Z,create:E.Z,defaults:O.Z,defer:P.Z,detect:Oe,difference:b.Z,drop:v.Z,each:w.Z,escape:S.Z,every:o.Z,filter:h.Z,find:l.Z,findIndex:R.Z,findLastIndex:A.Z,first:_.Z,foldl:Pe,foldr:be,forEach:w.Z,functions:T.Z,groupBy:I.Z,has:D.Z,head:_.Z,include:Ee,includes:c.Z,indexBy:ve,indexOf:j.Z,initial:L.Z,inject:we,invert:C.Z,invoke:Z.Z,isArray:U.Z,isEmpty:N.Z,isEqual:M.Z,isFunction:F.Z,isObject:x.Z,isRegExp:k.Z,isString:G.Z,iteratee:V.Z,keys:B.Z,last:Y.Z,lastIndexOf:q.Z,map:a.Z,matches:Q.Z,max:H.Z,min:X.Z,omit:n.Z,once:z.Z,pairs:Se,partition:W.Z,pick:$.Z,reduce:d.Z,reduceRight:u.Z,reject:J.Z,rest:K.Z,result:ee.Z,sample:te.Z,select:Re,shuffle:re.Z,size:ie.Z,some:s.Z,sortBy:ne.Z,tail:oe.Z,take:se.Z,toArray:ae.Z,uniqueId:ce.Z,values:le.Z,without:de.Z,extend:fe}}}]);
//# sourceMappingURL=b3cebbea1da3cbf7b881393aed538635-v2.js.map